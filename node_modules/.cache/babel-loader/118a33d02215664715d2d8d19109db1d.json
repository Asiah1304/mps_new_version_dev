{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\mps_new_version_dev\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, NavLink } from \"react-router-dom\";\nimport PrivateRoute from \"./Utils/PrivateRoute\";\nimport PublicRoute from \"./Utils/PublicRoute\";\nimport GoogleRoute from \"./Utils/GoogleRoute\";\nimport { getToken, getNOKP, getUser, getEmail, removeUserSession, setUserSession } from \"./Utils/Common\";\nimport Login from \"./Login\";\nimport Dashboard from \"./Dashboard\";\nimport Setting from \"./Profile\";\nimport Bill from \"./BayarBill\";\nimport Home from \"./Home\";\nimport Register from \"./Register\";\nimport ForgotPassword from \"./ForgotPassword\";\nimport GoogleLogin from \"./GoogleLogin\";\nimport NotFound from \"./NotFound\";\nimport SenaraiBil from \"./SenaraiBil\";\nimport Payment from \"./Payment\";\nimport Add from \"./Add\";\nimport Admin_Dashboard from \"./admin/Dashboard_Admin\";\nimport Admin_Setting from \"./admin/Setting_Admin\";\nimport Admin_UserManagement from \"./admin/UserManagement_Admin\";\nimport Admin_Report from \"./admin/Report_Admin\";\nimport { useLoading, Audio } from \"@agney/react-loading\"; //import \"./main.css\";\n\nfunction App() {\n  _s();\n\n  const [authLoading, setAuthLoading] = useState(true);\n  const {\n    containerProps,\n    indicatorEl\n  } = useLoading({\n    loading: true,\n    indicator: /*#__PURE__*/_jsxDEV(Audio, {\n      width: \"50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 16\n    }, this)\n  });\n  useEffect(() => {\n    if (getEmail() && getEmail()) {\n      var formdata = new FormData();\n      formdata.append(\"nokp\", getNOKP());\n      formdata.append(\"email\", getEmail());\n      var requestOptions = {\n        method: \"POST\",\n        body: formdata,\n        redirect: \"follow\"\n      };\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=check_session\";\n      fetch(urlAPI, requestOptions).then(response => response.json()).then(result => {\n        setUserSession(btoa(result.data[0]), result.data[0][\"U_USERNAME\"], result.data[0][\"U_USERIC\"], result.data[0][\"U_USEREMAIL\"]);\n        sessionStorage.setItem(\"role\", result.data[0][\"U_USERROLE\"]);\n        sessionStorage.setItem(\"notel\", result.data[0][\"U_USERPHONE\"]);\n\n        if (result.data[0][\"U_USERROLE\"] == \"Admin\") {//window.location.href = \"/admin/dashboard\";\n        }\n\n        setAuthLoading(false); // window.location.href=\"/home\";\n      }).catch(error => {\n        console.log(error);\n        removeUserSession();\n        setAuthLoading(false);\n      });\n    }\n  }, []);\n\n  if (authLoading && getToken()) {\n    return /*#__PURE__*/_jsxDEV(\"section\", { ...containerProps,\n      style: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0\n      },\n      children: [indicatorEl, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (sessionStorage.getItem(\"role\") == \"Admin\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/\",\n                component: Home\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/login\",\n                component: Login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/register\",\n                component: Register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/forgotpassword\",\n                component: ForgotPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/dashboard\",\n                component: Admin_Dashboard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/setting\",\n                component: Admin_Setting\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/usermanagement\",\n                component: Admin_UserManagement\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/report\",\n                component: Admin_Report\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"*\",\n                component: NotFound\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  } else if (sessionStorage.getItem(\"role\") == \"User\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/\",\n                component: Home\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/login\",\n                component: Login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/register\",\n                component: Register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(GoogleRoute, {\n                path: \"/verifyuser\",\n                component: GoogleLogin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/forgotpassword\",\n                component: ForgotPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/setting\",\n                component: Setting\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/bill\",\n                component: Bill\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/senaraibill\",\n                component: SenaraiBil\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/payment\",\n                component: Payment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/add\",\n                component: Add\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"*\",\n                component: NotFound\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/\",\n                component: Home\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/login\",\n                component: Login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/register\",\n                component: Register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/home\",\n                component: Dashboard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/setting\",\n                component: Setting\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/bill\",\n                component: Bill\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/senaraibill\",\n                component: SenaraiBil\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/payment\",\n                component: Payment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/add\",\n                component: Add\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/forgotpassword\",\n                component: ForgotPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/dashboard\",\n                component: Admin_Dashboard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/setting\",\n                component: Admin_Setting\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/usermanagement\",\n                component: Admin_UserManagement\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/report\",\n                component: Admin_Report\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"*\",\n                component: NotFound\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(App, \"m69bdgk6+n5fA77QtT7kUa4dtWs=\", false, function () {\n  return [useLoading];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Admin/mps_new_version_dev/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","NavLink","PrivateRoute","PublicRoute","GoogleRoute","getToken","getNOKP","getUser","getEmail","removeUserSession","setUserSession","Login","Dashboard","Setting","Bill","Home","Register","ForgotPassword","GoogleLogin","NotFound","SenaraiBil","Payment","Add","Admin_Dashboard","Admin_Setting","Admin_UserManagement","Admin_Report","useLoading","Audio","App","authLoading","setAuthLoading","containerProps","indicatorEl","loading","indicator","formdata","FormData","append","requestOptions","method","body","redirect","urlAPI","fetch","then","response","json","result","btoa","data","sessionStorage","setItem","catch","error","console","log","position","top","left","right","bottom","getItem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n} from \"react-router-dom\";\r\n\r\nimport PrivateRoute from \"./Utils/PrivateRoute\";\r\nimport PublicRoute from \"./Utils/PublicRoute\";\r\nimport GoogleRoute from \"./Utils/GoogleRoute\";\r\nimport {\r\n  getToken,\r\n  getNOKP,\r\n  getUser,\r\n  getEmail,\r\n  removeUserSession,\r\n  setUserSession,\r\n} from \"./Utils/Common\";\r\n\r\nimport Login from \"./Login\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Setting from \"./Profile\";\r\nimport Bill from \"./BayarBill\";\r\nimport Home from \"./Home\";\r\nimport Register from \"./Register\";\r\nimport ForgotPassword from \"./ForgotPassword\";\r\nimport GoogleLogin from \"./GoogleLogin\";\r\nimport NotFound from \"./NotFound\";\r\nimport SenaraiBil from \"./SenaraiBil\";\r\nimport Payment from \"./Payment\";\r\nimport Add from \"./Add\";\r\n\r\nimport Admin_Dashboard from \"./admin/Dashboard_Admin\";\r\nimport Admin_Setting from \"./admin/Setting_Admin\";\r\nimport Admin_UserManagement from \"./admin/UserManagement_Admin\";\r\nimport Admin_Report from \"./admin/Report_Admin\";\r\n\r\nimport { useLoading, Audio } from \"@agney/react-loading\";\r\n\r\n//import \"./main.css\";\r\n\r\nfunction App() {\r\n  const [authLoading, setAuthLoading] = useState(true);\r\n  const { containerProps, indicatorEl } = useLoading({\r\n    loading: true,\r\n    indicator: <Audio width=\"50\" />,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (getEmail() && getEmail()) {\r\n      var formdata = new FormData();\r\n      formdata.append(\"nokp\", getNOKP());\r\n      formdata.append(\"email\", getEmail());\r\n\r\n      var requestOptions = {\r\n        method: \"POST\",\r\n        body: formdata,\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      var urlAPI =\r\n        \"https://mymps.corrad.my/int/api_generator.php?api_name=check_session\";\r\n\r\n      fetch(urlAPI, requestOptions)\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          setUserSession(\r\n            btoa(result.data[0]),\r\n            result.data[0][\"U_USERNAME\"],\r\n            result.data[0][\"U_USERIC\"],\r\n            result.data[0][\"U_USEREMAIL\"]\r\n          );\r\n          sessionStorage.setItem(\"role\", result.data[0][\"U_USERROLE\"]);\r\n          sessionStorage.setItem(\"notel\", result.data[0][\"U_USERPHONE\"]);\r\n          \r\n          if (result.data[0][\"U_USERROLE\"] == \"Admin\") {\r\n            //window.location.href = \"/admin/dashboard\";\r\n          }\r\n          setAuthLoading(false);\r\n          // window.location.href=\"/home\";\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          removeUserSession();\r\n          setAuthLoading(false);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  if (authLoading && getToken()) {\r\n    return (\r\n      <section\r\n        {...containerProps}\r\n        style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0 }}\r\n      >\r\n        {indicatorEl} {/* renders only while loading */}\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (sessionStorage.getItem(\"role\") == \"Admin\") {\r\n    return (\r\n      <div className=\"App\">\r\n        <Router>\r\n          <div>\r\n            <div className=\"content\">\r\n              <Switch>\r\n                <Route exact path=\"/\" component={Home} />\r\n                <PublicRoute path=\"/login\" component={Login} />\r\n                <PublicRoute path=\"/register\" component={Register} />\r\n                <PublicRoute\r\n                  path=\"/forgotpassword\"\r\n                  component={ForgotPassword}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/admin/dashboard\"\r\n                  component={Admin_Dashboard}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/admin/setting\"\r\n                  component={Admin_Setting}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/admin/usermanagement\"\r\n                  component={Admin_UserManagement}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/admin/report\"\r\n                  component={Admin_Report}\r\n                />\r\n                <Route path=\"*\" component={NotFound} />\r\n              </Switch>\r\n            </div>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  } else if (sessionStorage.getItem(\"role\") == \"User\") {\r\n    return (\r\n      <div className=\"App\">\r\n        <Router>\r\n          <div>\r\n            <div className=\"content\">\r\n              <Switch>\r\n                <Route exact path=\"/\" component={Home} />\r\n                <PublicRoute path=\"/login\" component={Login} />\r\n                <PublicRoute path=\"/register\" component={Register} />\r\n                <GoogleRoute path=\"/verifyuser\" component={GoogleLogin} />\r\n                <PublicRoute\r\n                  path=\"/forgotpassword\"\r\n                  component={ForgotPassword}\r\n                />\r\n                {\r\n                  //   <PrivateRoute path=\"/home\" component={Dashboard} />\r\n                }\r\n                <PrivateRoute path=\"/setting\" component={Setting} />\r\n                <PrivateRoute path=\"/bill\" component={Bill} />\r\n                <PrivateRoute path=\"/senaraibill\" component={SenaraiBil} />\r\n                <PrivateRoute path=\"/payment\" component={Payment} />\r\n                <PrivateRoute path=\"/add\" component={Add} />\r\n                <Route path=\"*\" component={NotFound} />\r\n              </Switch>\r\n            </div>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"App\">\r\n        <Router>\r\n          <div>\r\n            <div className=\"content\">\r\n              <Switch>\r\n                <Route exact path=\"/\" component={Home} />\r\n                <PublicRoute path=\"/login\" component={Login} />\r\n                <PublicRoute path=\"/register\" component={Register} />\r\n                <PrivateRoute path=\"/home\" component={Dashboard} />\r\n                <PrivateRoute path=\"/setting\" component={Setting} />\r\n                <PrivateRoute path=\"/bill\" component={Bill} />\r\n                <PrivateRoute path=\"/senaraibill\" component={SenaraiBil} />\r\n                <PrivateRoute path=\"/payment\" component={Payment} />\r\n                <PrivateRoute path=\"/add\" component={Add} />\r\n                <PublicRoute\r\n                  path=\"/forgotpassword\"\r\n                  component={ForgotPassword}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/admin/dashboard\"\r\n                  component={Admin_Dashboard}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/admin/setting\"\r\n                  component={Admin_Setting}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/admin/usermanagement\"\r\n                  component={Admin_UserManagement}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/admin/report\"\r\n                  component={Admin_Report}\r\n                />\r\n                <Route path=\"*\" component={NotFound} />\r\n              </Switch>\r\n            </div>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}