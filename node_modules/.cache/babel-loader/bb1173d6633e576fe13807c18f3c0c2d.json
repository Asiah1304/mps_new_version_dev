{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/src/components/Cards/CardSettings2.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport swal from \"sweetalert\"; // components\n\nconst useFormInput = initialValue => {\n  _s();\n\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\n_s(useFormInput, \"L08zUdRTae9t+nWvf9xbU6NcRrM=\");\n\nexport default function CardSettings({\n  notel = \"\"\n}) {\n  _s2();\n\n  console.log(notel);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const username = sessionStorage.getItem('username');\n  const email = sessionStorage.getItem('email');\n  const nokp = sessionStorage.getItem('nokp');\n\n  const handleUpdate = () => {\n    var username = document.getElementById(\"username\").value;\n    var email = document.getElementById(\"email\").value;\n    var notel = document.getElementById(\"notel\").value;\n\n    if (username == \"\") {\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\", \"error\");\n      return false;\n    } else if (email == \"\") {\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else if (notel == \"\") {\n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else {\n      var formdata = new FormData();\n      formdata.append(\"username\", username.trim());\n      formdata.append(\"email\", email.trim());\n      formdata.append(\"nokp\", nokp);\n      formdata.append(\"notel\", notel.trim());\n      var requestOptions = {\n        method: 'POST',\n        body: formdata,\n        redirect: 'follow'\n      };\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\n      fetch(urlAPI, requestOptions).then(response => response.json()).then(result => {\n        if (result.status == \"success\") {\n          setLoading(\"false\");\n          swal(\"Berjaya!\", \"Akaun profil anda sudah dikemaskini.\", \"success\");\n          sessionStorage.removeItem('username');\n          sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\n          sessionStorage.removeItem('email');\n          sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\n          window.location.href = \"./setting\";\n        } else {\n          setLoading(\"false\");\n          swal(\"Ralat!\", \"Kemaskini tidak berjaya.\", \"error\");\n        }\n      });\n    }\n  };\n\n  const handleChangePassword = () => {\n    swal({\n      title: \"Set Semula Kata Laluan\",\n      text: \"Anda pasti untuk set semula kata laluan akaun anda?\",\n      button: true,\n      dangerMode: true\n    }).then(change => {\n      if (change) {\n        swal(\"Kata laluan akaun anda sudah dikemaskini!\");\n      } else {}\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg bg-gray-300 rounded-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-t-xl bg-white mb-0 px-6 py-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center flex justify-between\",\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"text-gray-800 text-xl font-bold\",\n            children: \"Akaun myMPS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-auto px-4 lg:px-10 py-10 pt-0\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full lg:w-6/12 px-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                  htmlFor: \"grid-password\",\n                  children: \"Nama Penuh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"username\",\n                  ...username,\n                  className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n                  defaultValue: sessionStorage.getItem(\"username\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full lg:w-6/12 px-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                  htmlFor: \"grid-password\",\n                  children: \"Alamat Emel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  id: \"email\",\n                  ...email,\n                  className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n                  defaultValue: sessionStorage.getItem(\"email\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full lg:w-6/12 px-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                  htmlFor: \"grid-password\",\n                  children: \"NOMBOR KAD PENGENALAN\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  ...nokp,\n                  readOnly: true,\n                  className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n                  defaultValue: sessionStorage.getItem(\"nokp\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full lg:w-6/12 px-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                  htmlFor: \"grid-password\",\n                  children: \"NOMBOR TELEFON\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"notel\",\n                  className: \"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n                  defaultValue: notel\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"mt-6 border-b-1 border-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap mt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full lg:w-12/12 px-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: handleUpdate,\n                  class: \"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\",\n                  children: \"Kemaskini\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg  bg-gray-300 rounded-xl mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-t-xl bg-white mb-0 px-6 py-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center flex justify-between\",\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"text-gray-800 text-xl font-bold\",\n            children: \"Tukar Kata Laluan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-auto px-4 lg:px-10 py-10 pt-0\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full px-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                  htmlFor: \"grid-password\",\n                  children: \"Kata Laluan Sekarang\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"username\",\n                  ...username,\n                  className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full px-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                  htmlFor: \"grid-password\",\n                  children: \"Kata Laluan Baru\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  id: \"email\",\n                  ...email,\n                  className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full px-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                  htmlFor: \"grid-password\",\n                  children: \"Pengesahan Kata Laluan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  ...nokp,\n                  className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"mt-6 border-b-1 border-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap mt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full lg:w-12/12 px-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: handleChangePassword,\n                  class: \"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\",\n                  children: \"Kemaskini\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(CardSettings, \"rEc7l+pXbieyWSk0M8PP+QokfWo=\");\n\n_c = CardSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardSettings\");","map":{"version":3,"sources":["/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/src/components/Cards/CardSettings2.js"],"names":["React","useState","swal","useFormInput","initialValue","value","setValue","handleChange","e","target","onChange","CardSettings","notel","console","log","error","setError","loading","setLoading","username","sessionStorage","getItem","email","nokp","handleUpdate","document","getElementById","formdata","FormData","append","trim","requestOptions","method","body","redirect","urlAPI","fetch","then","response","json","result","status","removeItem","setItem","data","window","location","href","handleChangePassword","title","text","button","dangerMode","change"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport swal from \"sweetalert\";\n\n// components\n\nconst useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n\nexport default function CardSettings({notel=\"\"}) {\n\n  console.log(notel);\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const username  = sessionStorage.getItem('username');\n  const email     = sessionStorage.getItem('email');\n  const nokp      = sessionStorage.getItem('nokp');\n\n  const handleUpdate = () => {\n\n    var username  = document.getElementById(\"username\").value;\n    var email     = document.getElementById(\"email\").value;\n    var notel     = document.getElementById(\"notel\").value;\n\n    if(username == \"\")\n    {\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\",\"error\");\n      return false;\n    }\n    else if(email == \"\")\n    {\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\",\"error\");\n      return false;\n    }\n    else if(notel == \"\")\n    { \n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\",\"error\");\n      return false;\n    }\n    else\n    {\n\n      var formdata = new FormData();\n\n        formdata.append(\"username\", username.trim());\n        formdata.append(\"email\", email.trim());\n        formdata.append(\"nokp\", nokp);\n        formdata.append(\"notel\", notel.trim());\n\n        var requestOptions = {\n        method: 'POST',\n        body: formdata,\n        redirect: 'follow'\n        };\n\n        var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\n\n        fetch(urlAPI, requestOptions)\n        .then(response => response.json())\n        .then(result => {\n\n          if(result.status == \"success\"){\n\n            setLoading(\"false\");\n            swal(\"Berjaya!\",\"Akaun profil anda sudah dikemaskini.\",\"success\");\n\n            sessionStorage.removeItem('username');\n            sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\n\n            sessionStorage.removeItem('email');\n            sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\n\n            window.location.href = \"./setting\";\n\n          }\n          else\n          {\n            setLoading(\"false\");\n            swal(\"Ralat!\",\"Kemaskini tidak berjaya.\",\"error\");\n          }\n\n        })\n    }\n  }\n\n  const handleChangePassword = () => {\n\n    swal({\n      title:\"Set Semula Kata Laluan\",\n      text:\"Anda pasti untuk set semula kata laluan akaun anda?\",\n      button:true,\n      dangerMode:true,\n    }).then((change) => {\n      if(change){\n        swal(\"Kata laluan akaun anda sudah dikemaskini!\");\n      }else{\n        \n      }\n    })\n    \n  }\n\n  return (\n    <>\n      <div className=\"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg bg-gray-300 rounded-xl\">\n        <div className=\"rounded-t-xl bg-white mb-0 px-6 py-6\">\n          <div className=\"text-center flex justify-between\">\n            <h6 className=\"text-gray-800 text-xl font-bold\">Akaun myMPS</h6>\n          </div>\n        </div>\n        <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\n          <form>\n            <h6 className=\"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\">\n              \n            </h6>\n            <div className=\"flex flex-wrap\">\n\n              <div className=\"w-full lg:w-6/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    Nama Penuh \n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"username\"\n                    {...username}\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                    defaultValue={sessionStorage.getItem(\"username\")}\n                  />\n                </div>\n              </div>\n\n              <div className=\"w-full lg:w-6/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    Alamat Emel\n                  </label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    {...email}\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                    defaultValue={sessionStorage.getItem(\"email\")}\n                  />\n                </div>\n              </div>\n\n              <div className=\"w-full lg:w-6/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    NOMBOR KAD PENGENALAN\n                  </label>\n                  <input\n                    type=\"text\"\n                    {...nokp}\n                    readOnly\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                    defaultValue={sessionStorage.getItem(\"nokp\")}\n                  />\n                </div>\n              </div>\n\n              <div className=\"w-full lg:w-6/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    NOMBOR TELEFON\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"notel\"\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                    defaultValue={notel}\n                  />\n                </div>\n              </div>\n\n            </div>\n\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\n\n            <div className=\"flex flex-wrap mt-6\">\n              <div className=\"w-full lg:w-12/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <button type=\"button\" onClick={handleUpdate} class=\"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\">\n                    Kemaskini\n                  </button>\n                </div>\n              </div>\n            </div>\n            \n          </form>\n        </div>\n      </div>\n\n      <div className=\"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg  bg-gray-300 rounded-xl mt-5\">\n        <div className=\"rounded-t-xl bg-white mb-0 px-6 py-6\">\n          <div className=\"text-center flex justify-between\">\n            <h6 className=\"text-gray-800 text-xl font-bold\">Tukar Kata Laluan</h6>\n          </div>\n        </div>\n        <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\n          <form>\n            <h6 className=\"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\">\n              \n            </h6>\n            <div className=\"flex flex-wrap\">\n\n              <div className=\"w-full px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    Kata Laluan Sekarang \n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"username\"\n                    {...username}\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"w-full px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    Kata Laluan Baru\n                  </label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    {...email}\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"w-full px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    Pengesahan Kata Laluan\n                  </label>\n                  <input\n                    type=\"text\"\n                    {...nokp}\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                  />\n                </div>\n              </div>\n\n            </div>\n\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\n\n            <div className=\"flex flex-wrap mt-6\">\n              <div className=\"w-full lg:w-12/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <button type=\"button\" onClick={handleChangePassword} class=\"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\">\n                    Kemaskini\n                  </button>\n                </div>\n              </div>\n            </div>\n            \n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}