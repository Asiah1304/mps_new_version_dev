{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/syahrilsulaiman/mps_new_version/src/ProSidebar/Menu/SubMenu.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, forwardRef, useRef, useEffect, useContext } from 'react';\nimport classNames from 'classnames';\nimport SlideDown from 'react-slidedown';\nimport { createPopper } from '@popperjs/core';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { SidebarContext } from '../ProSidebar';\n\nconst SubMenu = ({\n  children,\n  icon,\n  className,\n  title,\n  defaultOpen = false,\n  open,\n  prefix,\n  suffix,\n  firstchild,\n  popperarrow,\n  ...rest\n}, ref) => {\n  _s();\n\n  let popperInstance;\n  const {\n    collapsed,\n    rtl,\n    toggled\n  } = useContext(SidebarContext);\n  const [closed, setClosed] = useState(!defaultOpen);\n  const popperElRef = useRef(null);\n  const referenceElement = useRef(null);\n  const popperElement = useRef(null);\n\n  const handleToggleSubMenu = () => {\n    setClosed(!closed);\n  };\n\n  useEffect(() => {\n    if (firstchild) {\n      if (collapsed) {\n        if (referenceElement.current && popperElement.current) {\n          popperInstance = createPopper(referenceElement.current, popperElement.current, {\n            placement: 'right',\n            strategy: 'fixed',\n            modifiers: [{\n              name: 'computeStyles',\n              options: {\n                adaptive: false\n              }\n            }]\n          });\n        }\n\n        if (popperElRef.current) {\n          const ro = new ResizeObserver(() => {\n            if (popperInstance) {\n              popperInstance.update();\n            }\n          });\n          ro.observe(popperElRef.current);\n          ro.observe(referenceElement.current);\n        }\n\n        setTimeout(() => {\n          if (popperInstance) {\n            popperInstance.update();\n          }\n        }, 300);\n      }\n    }\n\n    return () => {\n      if (popperInstance) {\n        popperInstance.destroy();\n        popperInstance = null;\n      }\n    };\n  }, [collapsed, rtl, toggled]);\n  const subMenuRef = ref || /*#__PURE__*/React.createRef();\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    ref: subMenuRef,\n    className: classNames('pro-menu-item pro-sub-menu', className, {\n      open: typeof open === 'undefined' ? !closed : open\n    }),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", { ...rest,\n      ref: referenceElement,\n      className: \"pro-inner-item\",\n      onClick: handleToggleSubMenu,\n      onKeyPress: handleToggleSubMenu,\n      role: \"button\",\n      tabIndex: 0,\n      children: [icon ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"pro-icon-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pro-icon\",\n          children: icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this) : null, prefix ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"prefix-wrapper\",\n        children: prefix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"pro-item-content\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), suffix ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"suffix-wrapper\",\n        children: suffix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"pro-arrow-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pro-arrow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), firstchild && collapsed ? /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: popperElement,\n      className: classNames('pro-inner-list-item popper-element', {\n        'has-arrow': popperarrow\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popper-inner\",\n        ref: popperElRef,\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this), popperarrow ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popper-arrow\",\n        \"data-popper-arrow\": true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 26\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(SlideDown, {\n      closed: typeof open === 'undefined' ? closed : !open,\n      className: \"pro-inner-list-item\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SubMenu, \"2kR8vEMZdJWonVHMRhD6IYD+wQA=\");\n\n_c = SubMenu;\nexport default _c2 = /*#__PURE__*/forwardRef(SubMenu);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SubMenu\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/syahrilsulaiman/mps_new_version/src/ProSidebar/Menu/SubMenu.tsx"],"names":["React","useState","forwardRef","useRef","useEffect","useContext","classNames","SlideDown","createPopper","ResizeObserver","SidebarContext","SubMenu","children","icon","className","title","defaultOpen","open","prefix","suffix","firstchild","popperarrow","rest","ref","popperInstance","collapsed","rtl","toggled","closed","setClosed","popperElRef","referenceElement","popperElement","handleToggleSubMenu","current","placement","strategy","modifiers","name","options","adaptive","ro","update","observe","setTimeout","destroy","subMenuRef","createRef"],"mappings":"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","sourcesContent":["import React, { useState, forwardRef, LegacyRef, useRef, useEffect, useContext } from 'react';\nimport classNames from 'classnames';\nimport SlideDown from 'react-slidedown';\nimport { createPopper } from '@popperjs/core';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { SidebarContext } from '../ProSidebar';\n\nexport interface Props {\n  children?: React.ReactNode;\n  className?: string;\n  icon?: React.ReactNode;\n  title?: React.ReactNode;\n  defaultOpen?: boolean;\n  open?: boolean;\n  prefix?: React.ReactNode;\n  suffix?: React.ReactNode;\n  firstchild?: boolean;\n  popperarrow?: boolean;\n}\n\nconst SubMenu: React.ForwardRefRenderFunction<unknown, Props> = (\n  {\n    children,\n    icon,\n    className,\n    title,\n    defaultOpen = false,\n    open,\n    prefix,\n    suffix,\n    firstchild,\n    popperarrow,\n    ...rest\n  },\n  ref,\n) => {\n  let popperInstance;\n  const { collapsed, rtl, toggled } = useContext(SidebarContext);\n  const [closed, setClosed] = useState(!defaultOpen);\n  const popperElRef = useRef(null);\n  const referenceElement = useRef(null);\n  const popperElement = useRef(null);\n\n  const handleToggleSubMenu = () => {\n    setClosed(!closed);\n  };\n\n  useEffect(() => {\n    if (firstchild) {\n      if (collapsed) {\n        if (referenceElement.current && popperElement.current) {\n          popperInstance = createPopper(referenceElement.current, popperElement.current, {\n            placement: 'right',\n            strategy: 'fixed',\n            modifiers: [\n              {\n                name: 'computeStyles',\n                options: {\n                  adaptive: false,\n                },\n              },\n            ],\n          });\n        }\n\n        if (popperElRef.current) {\n          const ro = new ResizeObserver(() => {\n            if (popperInstance) {\n              popperInstance.update();\n            }\n          });\n\n          ro.observe(popperElRef.current);\n          ro.observe(referenceElement.current);\n        }\n\n        setTimeout(() => {\n          if (popperInstance) {\n            popperInstance.update();\n          }\n        }, 300);\n      }\n    }\n\n    return () => {\n      if (popperInstance) {\n        popperInstance.destroy();\n        popperInstance = null;\n      }\n    };\n  }, [collapsed, rtl, toggled]);\n\n  const subMenuRef: LegacyRef<HTMLLIElement> = (ref as any) || React.createRef<HTMLLIElement>();\n\n  return (\n    <li\n      ref={subMenuRef}\n      className={classNames('pro-menu-item pro-sub-menu', className, {\n        open: typeof open === 'undefined' ? !closed : open,\n      })}\n    >\n      <div\n        {...rest}\n        ref={referenceElement}\n        className=\"pro-inner-item\"\n        onClick={handleToggleSubMenu}\n        onKeyPress={handleToggleSubMenu}\n        role=\"button\"\n        tabIndex={0}\n      >\n        {icon ? (\n          <span className=\"pro-icon-wrapper\">\n            <span className=\"pro-icon\">{icon}</span>\n          </span>\n        ) : null}\n        {prefix ? <span className=\"prefix-wrapper\">{prefix}</span> : null}\n        <span className=\"pro-item-content\">{title}</span>\n        {suffix ? <span className=\"suffix-wrapper\">{suffix}</span> : null}\n        <span className=\"pro-arrow-wrapper\">\n          <span className=\"pro-arrow\" />\n        </span>\n      </div>\n\n      {firstchild && collapsed ? (\n        <div\n          ref={popperElement}\n          className={classNames('pro-inner-list-item popper-element', { 'has-arrow': popperarrow })}\n        >\n          <div className=\"popper-inner\" ref={popperElRef}>\n            <ul>{children}</ul>\n          </div>\n          {popperarrow ? <div className=\"popper-arrow\" data-popper-arrow /> : null}\n        </div>\n      ) : (\n        <SlideDown\n          closed={typeof open === 'undefined' ? closed : !open}\n          className=\"pro-inner-list-item\"\n        >\n          <div>\n            <ul>{children}</ul>\n          </div>\n        </SlideDown>\n      )}\n    </li>\n  );\n};\n\nexport default forwardRef<unknown, Props>(SubMenu);\n"]},"metadata":{},"sourceType":"module"}