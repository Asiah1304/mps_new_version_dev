{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import{getUser,getNOKP,getToken,removeUserSession}from\"../Utils/Common\";import{DataGrid}from\"@material-ui/data-grid\";import axios from'axios';import Sidebar from\"./Sidebar_Admin\";import Navbar from\"../components/Navbars/AdminNavbar\";import Footer from\"../components/Footers/Footer\";import CardUser from\"../components/Cards/CardUser\";import Pagination from\"../components/Pagination/Pagination\";function Dashboard(props){var token=getToken();var user=getUser();var nokp=getNOKP();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(5),_useState8=_slicedToArray(_useState7,2),userPerPage=_useState8[0],setUserPerPage=_useState8[1];useEffect(function(){var fetchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return axios.get('https://mymps.corrad.my/int/api_generator.php?api_name=user_list');case 3:res=_context.sent;setUser(JSON.parse(res.data.data));setLoading(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();fetchUsers();},[]);var indexOfLastUser=currentPage*userPerPage;var indexOfFirstUser=indexOfLastUser-userPerPage;var currentUsers=users.slice(indexOfFirstUser,indexOfLastUser);var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};var handleLogout=function handleLogout(){removeUserSession();props.history.push(\"/login\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative md:ml-64 bg-blue-600\",style:{height:\"100%\"},children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"relative bg-blue-600 pb-32 pt-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 md:my-4 md:px-2 mx-auto w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col min-w-0 break-words bg-blue-100 border-b border-gray-400 shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row border-b border-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative w-2/12 md:w-1/12 pr-4 flex-initial\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"No.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-4/12 lg:w-3/12 pr-4 flex-grow\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"No Kad Pengenalan\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative lg:w-6/12 pr-4 flex-grow hidden lg:block\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"Nama\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative lg:w-2/12 pr-4 flex-grow hidden lg:block\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"Telefon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-4/12 lg:w-2/12 pr-4 flex-initial\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"Status\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-1/12 w-auto pl-4 flex-initial invisible\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-trash-alt\",style:{color:\"red\"}})})]})}),/*#__PURE__*/_jsx(CardUser,{users:currentUsers,loading:loading,currentPage:currentPage,userPerPage:userPerPage}),/*#__PURE__*/_jsx(Pagination,{usersPerPage:userPerPage,totalUsers:users.length,paginate:paginate})]})})})})}),/*#__PURE__*/_jsx(Footer,{})]})]});}export default Dashboard;","map":{"version":3,"sources":["C:/Users/Admin/mps_new_version_dev/src/admin/UserManagement_Admin.js"],"names":["React","useState","useEffect","getUser","getNOKP","getToken","removeUserSession","DataGrid","axios","Sidebar","Navbar","Footer","CardUser","Pagination","Dashboard","props","token","user","nokp","users","setUser","loading","setLoading","currentPage","setCurrentPage","userPerPage","setUserPerPage","fetchUsers","get","res","JSON","parse","data","indexOfLastUser","indexOfFirstUser","currentUsers","slice","paginate","pageNumber","handleLogout","history","push","height","color","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getUser, getNOKP, getToken, removeUserSession } from \"../Utils/Common\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\nimport axios from 'axios'\r\nimport Sidebar from \"./Sidebar_Admin\";\r\nimport Navbar from \"../components/Navbars/AdminNavbar\";\r\nimport Footer from \"../components/Footers/Footer\";\r\nimport CardUser from \"../components/Cards/CardUser\";\r\nimport Pagination from \"../components/Pagination/Pagination\"\r\n\r\nfunction Dashboard(props) {\r\n  const token = getToken();\r\n  const user = getUser();\r\n  const nokp = getNOKP();\r\n\r\n  const [users, setUser] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [userPerPage, setUserPerPage] = useState(5);\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      setLoading(true);\r\n      const res = await axios.get('https://mymps.corrad.my/int/api_generator.php?api_name=user_list');\r\n      setUser(JSON.parse(res.data.data));\r\n      setLoading(false);\r\n    }\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const indexOfLastUser = currentPage * userPerPage;\r\n  const indexOfFirstUser = indexOfLastUser - userPerPage;\r\n  const currentUsers = users.slice(indexOfFirstUser, indexOfLastUser);\r\n\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  const handleLogout = () => {\r\n    removeUserSession();\r\n    props.history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <Sidebar />\r\n      <div className=\"relative md:ml-64 bg-blue-600\" style={{ height: \"100%\" }}>\r\n        <Navbar />\r\n        <div className=\"relative bg-blue-600 pb-32 pt-12\">\r\n\r\n          <div className=\"px-4 md:my-4 md:px-2 mx-auto w-full\">\r\n            <div className=\"flex flex-wrap\">\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative flex flex-col min-w-0 break-words bg-blue-100 border-b border-gray-400 shadow-lg rounded-lg\">\r\n                  <div className=\"flex-auto p-4\">\r\n                    <div className=\"flex flex-row border-b border-gray-600\">\r\n                      <div className=\"relative w-2/12 md:w-1/12 pr-4 flex-initial\">\r\n                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\r\n                          {\r\n                            // dataset.tempoh\r\n                            // bill.description\r\n                            // bill.add_harta\r\n                          }No.\r\n                                  </h5>\r\n                      </div>\r\n                      <div className=\"relative w-4/12 lg:w-3/12 pr-4 flex-grow\">\r\n                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\r\n                          {\r\n                            // dataset.tempoh\r\n                            // bill.description\r\n                            // bill.add_harta\r\n                          }No Kad Pengenalan\r\n                                      </h5>\r\n                      </div>\r\n                      <div className=\"relative lg:w-6/12 pr-4 flex-grow hidden lg:block\">\r\n                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\r\n                          {\r\n                            // dataset.tempoh\r\n                            // bill.description\r\n                            // bill.add_harta\r\n                          }Nama\r\n                                      </h5>\r\n                      </div>\r\n                      <div className=\"relative lg:w-2/12 pr-4 flex-grow hidden lg:block\">\r\n                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\r\n                          {\r\n                            // dataset.tempoh\r\n                            // bill.description\r\n                            // bill.add_harta\r\n                          }Telefon\r\n                                      </h5>\r\n                      </div>\r\n                      <div className=\"relative w-4/12 lg:w-2/12 pr-4 flex-initial\">\r\n                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\r\n                          {\r\n                            // dataset.tempoh\r\n                            // bill.description\r\n                            // bill.add_harta\r\n                          }Status\r\n                                  </h5>\r\n                      </div>\r\n                      <div className=\"relative w-1/12 w-auto pl-4 flex-initial invisible\">\r\n                        <i className=\"far fa-trash-alt\" style={{ color: \"red\" }}></i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <CardUser users={currentUsers} loading={loading} currentPage={currentPage} userPerPage={userPerPage} />\r\n                  <Pagination usersPerPage={userPerPage} totalUsers={users.length} paginate={paginate} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}