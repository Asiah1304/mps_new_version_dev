{"ast":null,"code":"import _slicedToArray from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import axios from'axios';import swal from'sweetalert';import Carian from'./Carian';export default function Search(_ref){var type=_ref.type;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),display=_useState6[0],setDisplay=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),bill=_useState8[0],setBill=_useState8[1];useEffect(function(){// console.log(type)\n},[type]);var handleChange=function handleChange(e){setSearch(e.target.value);};var searchType=\"\";var handleSubmit=function handleSubmit(e){setLoading(true);e.preventDefault();axios.get('https://mymps.corrad.my/int/api_generator.php?api_name=searchBill',{params:{search:search.trim(),type:type}}).then(function(res){if(type==='nokp'){searchType='No Kad Pengenalan';if(res.data.status==='FAILED'){setDisplay(false);swal('Tidak ditemui',searchType+' tidak ditemui','error');}else{setBill(res.data);// console.log('Search NOKP',res.data);\nsetDisplay(true);}}if(type==='akaun'){searchType='Akaun';// res = res.data;\n// console.log(res);\nif(res.data.status==='FAILED'){setDisplay(false);swal('Tidak ditemui',searchType+' tidak ditemui','error');}else{setBill(res.data);// console.log('Search Account ',res.data);\n// console.log('Bill Akaun',bill);\nsetDisplay(true);}}if(type==='ssm'){searchType='No SSM';res=res.data;// console.log(res);\nif(res.status==='FAILED'){setDisplay(false);swal('Tidak ditemui',searchType+' tidak ditemui','error');}else{// console.log('Search SSM: ',res)\nsetBill(res);setDisplay(true);}}setLoading(false);});};if(type===''){return/*#__PURE__*/_jsx(\"div\",{className:\"\"});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-gray-600 pt-4 pb-4\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 md:px-10 mx-auto w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col min-w-0 break-words rounded mb-6\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"search\",id:\"search\",name:\"search\",onChange:function onChange(e){return handleChange(e);},type:\"text\",required:true,className:\"mb-2 bg-white appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\",placeholder:type==='akaun'?'No Akaun':type==='ssm'?'No ROC / ROB Syarikat':type==='nokp'?'No Kad Pengenalan':'Carian...'})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-initial flex-row-reverse pt-4 pb-4\",children:/*#__PURE__*/_jsx(\"button\",{id:\"type\",type:\"submit\",className:\"text-white text-center bg-green-500 flex-row-reverse rounded-full w-32 h-12\",children:loading?'Mencari..':'Cari'})})]})}),/*#__PURE__*/_jsx(Carian,{bill:bill,type:type,display:display})]})});}}","map":{"version":3,"sources":["C:/Users/Admin/mps_new_version_dev/src/Search.js"],"names":["React","useState","useEffect","axios","swal","Carian","Search","type","search","setSearch","loading","setLoading","display","setDisplay","bill","setBill","handleChange","e","target","value","searchType","handleSubmit","preventDefault","get","params","trim","then","res","data","status"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert'\r\nimport Carian from './Carian'\r\n\r\nexport default function Search({type}){\r\n\r\n    const [search,setSearch] = useState('');\r\n    const [loading,setLoading] = useState(false);\r\n    const [display,setDisplay] = useState(false);\r\n    const [bill,setBill] = useState([]);\r\n\r\n    useEffect(() =>{\r\n        // console.log(type)\r\n    },[type]);\r\n    \r\n    const handleChange = (e) => {\r\n        setSearch(e.target.value);\r\n    }\r\n\r\n    let searchType = \"\";\r\n    const handleSubmit = (e) => {\r\n        setLoading(true);\r\n        e.preventDefault();\r\n        axios.get('https://mymps.corrad.my/int/api_generator.php?api_name=searchBill',{\r\n            params: {\r\n                search:search.trim(),\r\n                type:type\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(type === 'nokp'){\r\n                searchType = 'No Kad Pengenalan';\r\n\r\n                if(res.data.status === 'FAILED'){\r\n                    setDisplay(false);\r\n                    swal('Tidak ditemui',searchType+' tidak ditemui','error');\r\n                }\r\n                else{\r\n                    setBill(res.data);\r\n                    // console.log('Search NOKP',res.data);\r\n                    setDisplay(true);\r\n                }\r\n            }\r\n\r\n            if(type === 'akaun'){\r\n                searchType = 'Akaun';\r\n                // res = res.data;\r\n                // console.log(res);\r\n\r\n                if(res.data.status === 'FAILED'){\r\n                    setDisplay(false);\r\n                    swal('Tidak ditemui',searchType+' tidak ditemui','error');\r\n                }\r\n                else{\r\n                    setBill(res.data);\r\n                    // console.log('Search Account ',res.data);\r\n                    // console.log('Bill Akaun',bill);\r\n                    setDisplay(true);\r\n                }\r\n            }\r\n\r\n            if(type === 'ssm'){\r\n                searchType = 'No SSM';\r\n                res = res.data;\r\n                // console.log(res);\r\n                \r\n                if(res.status === 'FAILED'){\r\n                    setDisplay(false);\r\n                    swal('Tidak ditemui',searchType+' tidak ditemui','error');\r\n                }\r\n                else{\r\n                    // console.log('Search SSM: ',res)\r\n                    setBill(res);\r\n                    setDisplay(true);\r\n                }\r\n            }\r\n            setLoading(false);\r\n        })\r\n        \r\n    }\r\n\r\n    if(type === '') {\r\n        return (\r\n            <div className=\"\"></div>\r\n        );\r\n    }\r\n    else{\r\n\r\n    return (\r\n        <div>\r\n                {/* Header */}\r\n            <div className=\"relative bg-gray-600 pt-4 pb-4\">\r\n                <form onSubmit= {(e) => handleSubmit(e)}>\r\n                    <div className=\"px-4 md:px-10 mx-auto w-full\">\r\n                        <div className=\"flex flex-wrap\">\r\n                            <div className=\"w-full px-4\">\r\n                                <div className=\"relative flex flex-col min-w-0 break-words rounded mb-6\">\r\n                                        <div>\r\n                                            <input aria-label=\"search\" id=\"search\" name=\"search\" onChange={(e) => handleChange(e)} type=\"text\" required className=\"mb-2 bg-white appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\" \r\n                                            placeholder= {\r\n                                                    type === 'akaun' ? ('No Akaun') \r\n                                                :   type === 'ssm' ? ('No ROC / ROB Syarikat') \r\n                                                :   type === 'nokp' ? ('No Kad Pengenalan') \r\n                                                : ('Carian...')\r\n                                            } />\r\n                                        </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-initial flex-row-reverse pt-4 pb-4\">\r\n                            <button id=\"type\" type=\"submit\" className=\"text-white text-center bg-green-500 flex-row-reverse rounded-full w-32 h-12\">\r\n                                        {loading?'Mencari..':'Cari'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                {\r\n                    <Carian bill={bill} type={type} display={display}/>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}