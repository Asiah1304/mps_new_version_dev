{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState}from\"react\";import swal from\"sweetalert\";// components\nvar useFormInput=function useFormInput(initialValue){var _useState=useState(initialValue),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var handleChange=function handleChange(e){setValue(e.target.value);};return{value:value,onChange:handleChange};};export default function CardSettings(_ref){var _ref$notel=_ref.notel,notel=_ref$notel===void 0?\"\":_ref$notel;console.log(notel);var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var username=sessionStorage.getItem('username');var email=sessionStorage.getItem('email');var nokp=sessionStorage.getItem('nokp');var handleUpdate=function handleUpdate(){var username=document.getElementById(\"username\").value;var email=document.getElementById(\"email\").value;var notel=document.getElementById(\"notel\").value;if(username==\"\"){swal(\"Opss!\",\"Kata nama tidak boleh dikosongkan.\",\"error\");return false;}else if(email==\"\"){swal(\"Opss!\",\"Emel tidak boleh dikosongkan\",\"error\");return false;}else if(notel==\"\"){swal(\"Opss!\",\"Nombor telefon tidak boleh dikosongkan\",\"error\");return false;}else{var formdata=new FormData();formdata.append(\"username\",username.trim());formdata.append(\"email\",email.trim());formdata.append(\"nokp\",nokp);formdata.append(\"notel\",notel.trim());var requestOptions={method:'POST',body:formdata,redirect:'follow'};var urlAPI=\"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";fetch(urlAPI,requestOptions).then(function(response){return response.json();}).then(function(result){if(result.status==\"success\"){setLoading(\"false\");swal(\"Berjaya!\",\"Akaun profil anda sudah dikemaskini.\",\"success\");sessionStorage.removeItem('username');sessionStorage.setItem('username',result.data[0][\"U_USERNAME\"]);sessionStorage.removeItem('email');sessionStorage.setItem('email',result.data[0]['U_USEREMAIL']);window.location.href=\"./setting\";}else{setLoading(\"false\");swal(\"Ralat!\",\"Kemaskini tidak berjaya.\",\"error\");}});}};var handleChangePassword=function handleChangePassword(){swal({title:\"Set Semula Kata Laluan\",text:\"Anda pasti untuk set semula kata laluan akaun anda?\",button:true,dangerMode:true}).then(function(change){if(change){swal(\"Kata laluan akaun anda sudah dikemaskini!\");}else{}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg bg-gray-300 rounded-xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-t-xl bg-white mb-0 px-6 py-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center flex justify-between\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"text-gray-800 text-xl font-bold\",children:\"Akaun myMPS\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-auto px-4 lg:px-10 py-10 pt-0\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-6/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"Nama Penuh\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",id:\"username\"},username),{},{className:\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",defaultValue:sessionStorage.getItem(\"username\")}))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-6/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"Alamat Emel\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\",id:\"email\"},email),{},{className:\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",defaultValue:sessionStorage.getItem(\"email\")}))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-6/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"NOMBOR KAD PENGENALAN\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},nokp),{},{readOnly:true,className:\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",defaultValue:sessionStorage.getItem(\"nokp\")}))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-6/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"NOMBOR TELEFON\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"notel\",className:\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",defaultValue:notel})]})})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"mt-6 border-b-1 border-gray-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-12/12 px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full mb-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleUpdate,class:\"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\",children:\"Kemaskini\"})})})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg  bg-gray-300 rounded-xl mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-t-xl bg-white mb-0 px-6 py-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center flex justify-between\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"text-gray-800 text-xl font-bold\",children:\"Tukar Kata Laluan\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-auto px-4 lg:px-10 py-10 pt-0\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"Kata Laluan Sekarang\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",id:\"username\"},username),{},{className:\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"}))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"Kata Laluan Baru\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\",id:\"email\"},email),{},{className:\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"}))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"Pengesahan Kata Laluan\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},nokp),{},{className:\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"}))]})})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"mt-6 border-b-1 border-gray-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-12/12 px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full mb-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleChangePassword,class:\"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\",children:\"Kemaskini\"})})})})]})})]})]});}","map":{"version":3,"sources":["C:/Users/Admin/mps_new_version_dev/src/components/Cards/CardSettings2.js"],"names":["React","useState","swal","useFormInput","initialValue","value","setValue","handleChange","e","target","onChange","CardSettings","notel","console","log","error","setError","loading","setLoading","username","sessionStorage","getItem","email","nokp","handleUpdate","document","getElementById","formdata","FormData","append","trim","requestOptions","method","body","redirect","urlAPI","fetch","then","response","json","result","status","removeItem","setItem","data","window","location","href","handleChangePassword","title","text","button","dangerMode","change"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport swal from \"sweetalert\";\r\n\r\n// components\r\n\r\nconst useFormInput = (initialValue) => {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const handleChange = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n  return {\r\n    value,\r\n    onChange: handleChange,\r\n  };\r\n};\r\n\r\nexport default function CardSettings({notel=\"\"}) {\r\n\r\n  console.log(notel);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const username  = sessionStorage.getItem('username');\r\n  const email     = sessionStorage.getItem('email');\r\n  const nokp      = sessionStorage.getItem('nokp');\r\n\r\n  const handleUpdate = () => {\r\n\r\n    var username  = document.getElementById(\"username\").value;\r\n    var email     = document.getElementById(\"email\").value;\r\n    var notel     = document.getElementById(\"notel\").value;\r\n\r\n    if(username == \"\")\r\n    {\r\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\",\"error\");\r\n      return false;\r\n    }\r\n    else if(email == \"\")\r\n    {\r\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\",\"error\");\r\n      return false;\r\n    }\r\n    else if(notel == \"\")\r\n    { \r\n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\",\"error\");\r\n      return false;\r\n    }\r\n    else\r\n    {\r\n\r\n      var formdata = new FormData();\r\n\r\n        formdata.append(\"username\", username.trim());\r\n        formdata.append(\"email\", email.trim());\r\n        formdata.append(\"nokp\", nokp);\r\n        formdata.append(\"notel\", notel.trim());\r\n\r\n        var requestOptions = {\r\n        method: 'POST',\r\n        body: formdata,\r\n        redirect: 'follow'\r\n        };\r\n\r\n        var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\r\n\r\n        fetch(urlAPI, requestOptions)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n\r\n          if(result.status == \"success\"){\r\n\r\n            setLoading(\"false\");\r\n            swal(\"Berjaya!\",\"Akaun profil anda sudah dikemaskini.\",\"success\");\r\n\r\n            sessionStorage.removeItem('username');\r\n            sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\r\n\r\n            sessionStorage.removeItem('email');\r\n            sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\r\n\r\n            window.location.href = \"./setting\";\r\n\r\n          }\r\n          else\r\n          {\r\n            setLoading(\"false\");\r\n            swal(\"Ralat!\",\"Kemaskini tidak berjaya.\",\"error\");\r\n          }\r\n\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleChangePassword = () => {\r\n\r\n    swal({\r\n      title:\"Set Semula Kata Laluan\",\r\n      text:\"Anda pasti untuk set semula kata laluan akaun anda?\",\r\n      button:true,\r\n      dangerMode:true,\r\n    }).then((change) => {\r\n      if(change){\r\n        swal(\"Kata laluan akaun anda sudah dikemaskini!\");\r\n      }else{\r\n        \r\n      }\r\n    })\r\n    \r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg bg-gray-300 rounded-xl\">\r\n        <div className=\"rounded-t-xl bg-white mb-0 px-6 py-6\">\r\n          <div className=\"text-center flex justify-between\">\r\n            <h6 className=\"text-gray-800 text-xl font-bold\">Akaun myMPS</h6>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n          <form>\r\n            <h6 className=\"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\">\r\n              \r\n            </h6>\r\n            <div className=\"flex flex-wrap\">\r\n\r\n              <div className=\"w-full lg:w-6/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Nama Penuh \r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    {...username}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={sessionStorage.getItem(\"username\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full lg:w-6/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Alamat Emel\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    {...email}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={sessionStorage.getItem(\"email\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full lg:w-6/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    NOMBOR KAD PENGENALAN\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    {...nokp}\r\n                    readOnly\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={sessionStorage.getItem(\"nokp\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full lg:w-6/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    NOMBOR TELEFON\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"notel\"\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={notel}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\r\n\r\n            <div className=\"flex flex-wrap mt-6\">\r\n              <div className=\"w-full lg:w-12/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <button type=\"button\" onClick={handleUpdate} class=\"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\">\r\n                    Kemaskini\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg  bg-gray-300 rounded-xl mt-5\">\r\n        <div className=\"rounded-t-xl bg-white mb-0 px-6 py-6\">\r\n          <div className=\"text-center flex justify-between\">\r\n            <h6 className=\"text-gray-800 text-xl font-bold\">Tukar Kata Laluan</h6>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n          <form>\r\n            <h6 className=\"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\">\r\n              \r\n            </h6>\r\n            <div className=\"flex flex-wrap\">\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Kata Laluan Sekarang \r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    {...username}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Kata Laluan Baru\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    {...email}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Pengesahan Kata Laluan\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    {...nokp}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\r\n\r\n            <div className=\"flex flex-wrap mt-6\">\r\n              <div className=\"w-full lg:w-12/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <button type=\"button\" onClick={handleChangePassword} class=\"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\">\r\n                    Kemaskini\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}