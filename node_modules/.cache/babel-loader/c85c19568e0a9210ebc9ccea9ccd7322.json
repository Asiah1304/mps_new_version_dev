{"ast":null,"code":"import _defineProperty from\"/Users/syahrilsulaiman/mps_new_version/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/syahrilsulaiman/mps_new_version/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from\"react\";import axios from\"axios\";import{setUserSession}from\"./Utils/Common\";import logo1 from\"./assets/img/logo1.png\";import IndexNavbar from\"./components/Navbars/IndexNavbar2.js\";import Footer from\"./components/Footers/Footer\";function Register(props){var username=useFormInput(\"\");var password=useFormInput(\"\");var email=useFormInput(\"\");var nokp=useFormInput(\"\");var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var handleRegister=function handleRegister(){setError(null);setLoading(true);axios.post(\"https://apisim.mps.gov.my/api/mymps/akaunbyic?nokp=930420145231\",{username:username.value,password:password.value}).then(function(response){setLoading(false);setUserSession(response.data[0].NOAKAUN,response.data[0].NAMA_PEMILIK);console.log(response.data);props.history.push(\"/dashboard\");}).catch(function(error){setLoading(false);console.log(\"Something went wrong. Plese try again!\");if(error.response.status===401)setError(error.response.data.message);else setError(\"Something went wrong. Please try again later.\");});};var handleNumber=function handleNumber(){console.log(username.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray\",children:[/*#__PURE__*/_jsx(IndexNavbar,{fixed:true}),/*#__PURE__*/_jsx(\"section\",{className:\"py-20 relative\",style:_defineProperty({background:\"rgb(34,81,122)\"},\"background\",\"linear-gradient(90deg, rgba(34,81,122,1) 0%, rgba(27,147,171,1) 100%)\"),children:/*#__PURE__*/_jsx(\"div\",{class:\" sm:mt-0\",style:{padding:\"20px\"},children:/*#__PURE__*/_jsxs(\"div\",{class:\"md:grid md:grid-cols-3 md:gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"md:col-span-1 bg-gray-100\",style:{padding:\"20px\",borderRadius:\"10px\"},children:/*#__PURE__*/_jsxs(\"div\",{class:\"px-4 sm:px-0\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto\",src:logo1,style:{width:\"120px\",height:\"120px\"}}),/*#__PURE__*/_jsx(\"h3\",{class:\"text-lg font-medium leading-6 text-gray-900 text-center\",style:{marginTop:\"30px\"},children:\"Daftar Pengguna\"}),/*#__PURE__*/_jsx(\"p\",{class:\"mt-1 text-sm leading-5 text-gray-600\",style:{marginTop:\"30px\"},children:\"Selamat Datang ke laman daftar sebagai pengguna Majlis Perbandaran Selayang 2020. Sila pastikan setiap maklumat diisi lengkap sebelum daftar sebagai pengguna.\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"mt-5 md:mt-0 md:col-span-2\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{class:\"shadow overflow-hidden sm:rounded-md\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"px-4 py-5 bg-white sm:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"grid grid-cols-6 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-span-6 sm:col-span-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"first_name\",class:\"block text-sm font-medium leading-5 text-gray-700\",children:\"KATA PENGGUNA\"}),/*#__PURE__*/_jsx(\"input\",{id:\"first_name\",class:\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-span-6 sm:col-span-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"last_name\",class:\"block text-sm font-medium leading-5 text-gray-700\",children:\"KATA LALUAN\"}),/*#__PURE__*/_jsx(\"input\",{id:\"last_name\",class:\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-span-6 sm:col-span-6\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email_address\",class:\"block text-sm font-medium leading-5 text-gray-700\",children:\"ALAMAT EMEL\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email_address\",class:\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-span-6\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"street_address\",class:\"block text-sm font-medium leading-5 text-gray-700\",children:\"NO KAD PENGENALAN\"}),/*#__PURE__*/_jsx(\"input\",{id:\"street_address\",class:\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-span-6\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/login\",class:\"font-small text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-user\"}),\" Sudah mempunyai akaun? Login\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"px-4 py-3 bg-gray-50 text-right sm:px-6 bg-gray-300\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-green-600 shadow-sm hover:bg-green-500 focus:outline-none focus:shadow-outline-blue active:bg-indigo-600 transition duration-150 ease-in-out\",children:\"Daftar\"})})]})})})]})})}),/*#__PURE__*/_jsx(Footer,{})]});}var useFormInput=function useFormInput(initialValue){var _useState5=useState(initialValue),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var handleChange=function handleChange(e){setValue(e.target.value);};return{value:value,onChange:handleChange};};export default Register;","map":{"version":3,"sources":["/Users/syahrilsulaiman/mps_new_version/src/Register.js"],"names":["React","useState","axios","setUserSession","logo1","IndexNavbar","Footer","Register","props","username","useFormInput","password","email","nokp","error","setError","loading","setLoading","handleRegister","post","value","then","response","data","NOAKAUN","NAMA_PEMILIK","console","log","history","push","catch","status","message","handleNumber","background","padding","borderRadius","width","height","marginTop","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { setUserSession } from \"./Utils/Common\";\nimport logo1 from \"./assets/img/logo1.png\";\n\nimport IndexNavbar from \"./components/Navbars/IndexNavbar2.js\";\nimport Footer from \"./components/Footers/Footer\";\n\nfunction Register(props) {\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n  const email = useFormInput(\"\");\n  const nokp = useFormInput(\"\");\n\n  const [error, setError]     = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleRegister = () => {\n    setError(null);\n    setLoading(true);\n\n    axios\n      .post(\"https://apisim.mps.gov.my/api/mymps/akaunbyic?nokp=930420145231\", {\n        username: username.value,\n        password: password.value,\n      })\n      .then((response) => {\n        setLoading(false);\n        setUserSession(response.data[0].NOAKAUN, response.data[0].NAMA_PEMILIK);\n\n        console.log(response.data);\n        props.history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        setLoading(false);\n\n        console.log(\"Something went wrong. Plese try again!\");\n        if (error.response.status === 401)\n          setError(error.response.data.message);\n        else setError(\"Something went wrong. Please try again later.\");\n      });\n  };\n\n  const handleNumber = () => {\n    console.log(username.value);\n  };\n\n  return (\n    <div className=\"bg-gray\">\n      <IndexNavbar fixed />\n\n      \n      <section className=\"py-20 relative\" style={{background: \"rgb(34,81,122)\", background: \"linear-gradient(90deg, rgba(34,81,122,1) 0%, rgba(27,147,171,1) 100%)\"}}>\n\n      {/* sample form */}\n      <div class=\" sm:mt-0\" style={{padding: \"20px\"}}>\n        <div class=\"md:grid md:grid-cols-3 md:gap-6\">\n          <div class=\"md:col-span-1 bg-gray-100\" style={{padding: \"20px\", borderRadius: \"10px\"}}>\n            <div class=\"px-4 sm:px-0\">\n              <img className=\"mx-auto\" src={logo1} style={{width:\"120px\", height:\"120px\"}}/>\n              <h3 class=\"text-lg font-medium leading-6 text-gray-900 text-center\" style={{marginTop: \"30px\"}}>Daftar Pengguna</h3>\n              <p class=\"mt-1 text-sm leading-5 text-gray-600\" style={{marginTop: \"30px\"}}>\n                Selamat Datang ke laman daftar sebagai pengguna Majlis Perbandaran Selayang 2020. Sila pastikan setiap maklumat diisi lengkap sebelum daftar sebagai pengguna.\n              </p>\n            </div>\n          </div>\n          <div class=\"mt-5 md:mt-0 md:col-span-2\">\n            <form>\n              <div class=\"shadow overflow-hidden sm:rounded-md\">\n                <div class=\"px-4 py-5 bg-white sm:p-6\">\n                  <div class=\"grid grid-cols-6 gap-6\">\n                    <div class=\"col-span-6 sm:col-span-3\">\n                      <label for=\"first_name\" class=\"block text-sm font-medium leading-5 text-gray-700\">KATA PENGGUNA</label>\n                      <input id=\"first_name\" class=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\" />\n                    </div>\n\n                    <div class=\"col-span-6 sm:col-span-3\">\n                      <label for=\"last_name\" class=\"block text-sm font-medium leading-5 text-gray-700\">KATA LALUAN</label>\n                      <input id=\"last_name\" class=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\" />\n                    </div>\n\n                    <div class=\"col-span-6 sm:col-span-6\">\n                      <label for=\"email_address\" class=\"block text-sm font-medium leading-5 text-gray-700\">ALAMAT EMEL</label>\n                      <input id=\"email_address\" class=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\" />\n                    </div>\n\n                    <div class=\"col-span-6\">\n                      <label for=\"street_address\" class=\"block text-sm font-medium leading-5 text-gray-700\">NO KAD PENGENALAN</label>\n                      <input id=\"street_address\" class=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\" />\n                    </div>\n\n                    <div class=\"col-span-6\">\n                      <a href=\"/login\" class=\"font-small text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150\">\n                        <i class=\"fas fa-user\"></i> Sudah mempunyai akaun? Login\n                      </a>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"px-4 py-3 bg-gray-50 text-right sm:px-6 bg-gray-300\">\n                  <button type=\"button\" class=\"py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-green-600 shadow-sm hover:bg-green-500 focus:outline-none focus:shadow-outline-blue active:bg-indigo-600 transition duration-150 ease-in-out\">\n                    Daftar\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      {/* sample form */}\n      </section>\n\n      {/* <section className=\"pb-16 bg-gray-300 relative pt-32\">\n        \n      </section> */}\n\n      <Footer />\n    </div>\n  );\n}\n\nconst useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}