{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\ANSI - LI\\\\MyMPS\\\\react\\\\mps_new_version_dev\\\\src\\\\admin\\\\UpdateUser_Admin.js\",\n    _s = $RefreshSig$();\n\nimport Axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport swal from \"sweetalert\";\nimport Sidebar from \"../admin/Sidebar_Admin\";\nimport Navbar from \"../components/Navbars/AdminNavbar\";\nimport Footer from \"../components/Footers/Footer\";\nimport { get } from \"jquery\"; // components\n// const useFormInput = (initialValue) => {\n//   const [value, setValue] = useState(initialValue);\n//   const handleChange = (e) => {\n//     setValue(e.target.value);\n//   };\n//   return {\n//     value,\n//     onChange: handleChange,\n//   };\n// };\n\nexport default function CardSettings() {\n  _s();\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    console.log(sessionStorage.user);\n    console.log(atob(sessionStorage.user));\n    let formData = new FormData();\n    formData.append(\"nokp\", atob(sessionStorage.user));\n\n    const fetchUser = async () => {\n      setLoading(true);\n      const res = await Axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=get_user', formData).then(response => {\n        // setUsers(response.data.data);\n        if (response.data.status === 'success') {\n          setUsers(response.data.data); // console.log(users);\n\n          console.log('Response', response);\n          console.log('Users :', users);\n        } else {\n          swal('Masaalah Teknikal', 'Hubungi pentadbir system', 'error');\n          window.location.href = './usermanagement';\n        }\n\n        setLoading(false);\n      });\n    };\n\n    fetchUser(); // console.log('Users :',users);\n  }, []);\n\n  const handleDelete = () => {\n    console.log('delete');\n  };\n\n  const handleUpdate = () => {\n    // var username  = document.getElementById(\"username\").value;\n    // var email     = document.getElementById(\"email\").value;\n    // var notel     = document.getElementById(\"notel\").value;\n    // const username = useFormInput(\"\");\n    // const email = useFormInput(\"\");\n    // const notel = useFormInput(\"\");\n    // const status = useFormInput(\"\");\n    const username = document.getElementById(\"username\").value;\n    const email = document.getElementById(\"email\").value;\n    const notel = document.getElementById(\"notel\").value;\n    const status = document.getElementById(\"status\").value;\n\n    if (username == \"\") {\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\", \"error\");\n      return false;\n    } else if (email == \"\") {\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else if (notel == \"\") {\n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else {\n      var formdata = new FormData(); // formdata.append(\"username\", username.trim());\n      // formdata.append(\"email\", email.trim());\n      // formdata.append(\"nokp\", user);\n      // formdata.append(\"notel\", notel.trim());\n\n      var requestOptions = {\n        method: 'POST',\n        body: formdata,\n        redirect: 'follow'\n      };\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\n      fetch(urlAPI, requestOptions).then(response => response.json()).then(result => {\n        if (result.status == \"success\") {\n          setLoading(\"false\");\n          swal(\"Berjaya!\", \"Akaun profil anda sudah dikemaskini.\", \"success\");\n          sessionStorage.removeItem('username');\n          sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\n          sessionStorage.removeItem('email');\n          sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\n          window.location.href = \"./admin/usermanagement\";\n        } else {\n          setLoading(\"false\");\n          swal(\"Ralat!\", \"Kemaskini tidak berjaya.\", \"error\");\n        }\n      });\n    }\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative md:ml-64 bg-blue-400\",\n      style: {\n        height: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-blue-600 md:pt-32 pb-16 pt-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 md:px-10 mx-auto w-full\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg  bg-gray-300 border-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-t bg-white mb-0 px-6 py-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center flex justify-between\",\n                    children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"text-gray-800 text-xl font-bold\",\n                      children: \"Akaun mymps\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 19\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-auto px-4 lg:px-10 py-10 pt-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"form\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-wrap\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full lg:w-6/12 px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"relative w-full mb-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                            htmlFor: \"grid-password\",\n                            children: \"Nama Penuh\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 168,\n                            columnNumber: 25\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            id: \"username\",\n                            className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n                            defaultValue: users.U_USERNAME\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 174,\n                            columnNumber: 25\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 167,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full lg:w-6/12 px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"relative w-full mb-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                            htmlFor: \"grid-password\",\n                            children: \"NOMBOR KAD PENGENALAN\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 185,\n                            columnNumber: 25\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            readOnly: true,\n                            className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n                            defaultValue: users.U_USERIC\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 191,\n                            columnNumber: 25\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 184,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full lg:w-6/12 px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"relative w-full mb-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                            htmlFor: \"grid-password\",\n                            children: \"Alamat Emel\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 202,\n                            columnNumber: 23\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"email\",\n                            id: \"email\",\n                            className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n                            defaultValue: users.U_USEREMAIL\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 208,\n                            columnNumber: 23\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 201,\n                          columnNumber: 21\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 200,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full lg:w-6/12 px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"relative w-full mb-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                            htmlFor: \"grid-password\",\n                            children: \"NOMBOR TELEFON\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 219,\n                            columnNumber: 25\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            id: \"notel\",\n                            className: \"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n                            defaultValue: users.U_USERPHONE\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 225,\n                            columnNumber: 25\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 218,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 217,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full lg:w-6/12 px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"relative w-full mb-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n                            htmlFor: \"grid-password\",\n                            children: \"Status\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 236,\n                            columnNumber: 25\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            id: \"status\",\n                            className: \"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n                            defaultValue: users.U_USERSTATUS\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 242,\n                            columnNumber: 25\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 235,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 234,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                      className: \"mt-6 border-b-1 border-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-wrap mt-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full lg:w-12/12 px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"relative w-full mb-3\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            onClick: handleUpdate,\n                            className: \"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\",\n                            children: \"Kemaskini\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 257,\n                            columnNumber: 25\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 256,\n                          columnNumber: 25\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-wrap mt-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full lg:w-12/12 px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"relative w-full mb-3\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            onClick: handleDelete,\n                            className: \"bg-red-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\",\n                            children: \"Padam\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 266,\n                            columnNumber: 25\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 265,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 19\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CardSettings, \"jkkMG9NXz0wDcxzJp+lhjXp5v+M=\");\n\n_c = CardSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardSettings\");","map":{"version":3,"sources":["D:/ANSI - LI/MyMPS/react/mps_new_version_dev/src/admin/UpdateUser_Admin.js"],"names":["Axios","React","useState","useEffect","swal","Sidebar","Navbar","Footer","get","CardSettings","error","setError","loading","setLoading","users","setUsers","console","log","sessionStorage","user","atob","formData","FormData","append","fetchUser","res","post","then","response","data","status","window","location","href","handleDelete","handleUpdate","username","document","getElementById","value","email","notel","formdata","requestOptions","method","body","redirect","urlAPI","fetch","json","result","removeItem","setItem","height","U_USERNAME","U_USERIC","U_USEREMAIL","U_USERPHONE","U_USERSTATUS"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,SAASC,GAAT,QAAoB,QAApB,C,CACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAASC,YAAT,GAAwB;AAAA;;AAEnC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACY,KAAD,EAAOC,QAAP,IAAmBb,QAAQ,CAAC,EAAD,CAAjC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZa,IAAAA,OAAO,CAACC,GAAR,CAAYC,cAAc,CAACC,IAA3B;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYG,IAAI,CAACF,cAAc,CAACC,IAAhB,CAAhB;AACA,QAAIE,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuBH,IAAI,CAACF,cAAc,CAACC,IAAhB,CAA3B;;AACA,UAAMK,SAAS,GAAG,YAAW;AACzBX,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMY,GAAG,GAAG,MAAMzB,KAAK,CAAC0B,IAAN,CAAW,iEAAX,EAA6EL,QAA7E,EACjBM,IADiB,CACZC,QAAQ,IAAI;AACd;AACA,YAAGA,QAAQ,CAACC,IAAT,CAAcC,MAAd,KAAyB,SAA5B,EAAsC;AAClCf,UAAAA,QAAQ,CAACa,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAR,CADkC,CAElC;;AACAb,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBW,QAAvB;AACAZ,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBH,KAAtB;AACH,SALD,MAKK;AACDV,UAAAA,IAAI,CAAC,mBAAD,EAAqB,0BAArB,EAAgD,OAAhD,CAAJ;AACA2B,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AACH;;AACDpB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OAbiB,CAAlB;AAiBH,KAnBD;;AAoBAW,IAAAA,SAAS,GAzBG,CA0BZ;AACH,GA3BQ,EA2BP,EA3BO,CAAT;;AA6BA,QAAMU,YAAY,GAAG,MAAM;AACvBlB,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH,GAFD;;AAGA,QAAMkB,YAAY,GAAG,MAAM;AAEvB;AACA;AACA;AAEA;AACA;AACA;AACA;AACA,UAAMC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAArD;AACA,UAAMC,KAAK,GAAGH,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAA/C;AACA,UAAME,KAAK,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAA/C;AACA,UAAMT,MAAM,GAAGO,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,KAAjD;;AAEA,QAAGH,QAAQ,IAAI,EAAf,EACA;AACEhC,MAAAA,IAAI,CAAC,OAAD,EAAU,oCAAV,EAA+C,OAA/C,CAAJ;AACA,aAAO,KAAP;AACD,KAJD,MAKK,IAAGoC,KAAK,IAAI,EAAZ,EACL;AACEpC,MAAAA,IAAI,CAAC,OAAD,EAAU,8BAAV,EAAyC,OAAzC,CAAJ;AACA,aAAO,KAAP;AACD,KAJI,MAKA,IAAGqC,KAAK,IAAI,EAAZ,EACL;AACErC,MAAAA,IAAI,CAAC,OAAD,EAAU,wCAAV,EAAmD,OAAnD,CAAJ;AACA,aAAO,KAAP;AACD,KAJI,MAML;AAEE,UAAIsC,QAAQ,GAAG,IAAIpB,QAAJ,EAAf,CAFF,CAII;AACA;AACA;AACA;;AAEA,UAAIqB,cAAc,GAAG;AACrBC,QAAAA,MAAM,EAAE,MADa;AAErBC,QAAAA,IAAI,EAAEH,QAFe;AAGrBI,QAAAA,QAAQ,EAAE;AAHW,OAArB;AAMA,UAAIC,MAAM,GAAG,uEAAb;AAEAC,MAAAA,KAAK,CAACD,MAAD,EAASJ,cAAT,CAAL,CACChB,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACqB,IAAT,EADlB,EAECtB,IAFD,CAEMuB,MAAM,IAAI;AAEd,YAAGA,MAAM,CAACpB,MAAP,IAAiB,SAApB,EAA8B;AAE5BjB,UAAAA,UAAU,CAAC,OAAD,CAAV;AACAT,UAAAA,IAAI,CAAC,UAAD,EAAY,sCAAZ,EAAmD,SAAnD,CAAJ;AAEAc,UAAAA,cAAc,CAACiC,UAAf,CAA0B,UAA1B;AACAjC,UAAAA,cAAc,CAACkC,OAAf,CAAuB,UAAvB,EAAmCF,MAAM,CAACrB,IAAP,CAAY,CAAZ,EAAe,YAAf,CAAnC;AAEAX,UAAAA,cAAc,CAACiC,UAAf,CAA0B,OAA1B;AACAjC,UAAAA,cAAc,CAACkC,OAAf,CAAuB,OAAvB,EAAgCF,MAAM,CAACrB,IAAP,CAAY,CAAZ,EAAe,aAAf,CAAhC;AAEAE,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,wBAAvB;AAED,SAbD,MAeA;AACEpB,UAAAA,UAAU,CAAC,OAAD,CAAV;AACAT,UAAAA,IAAI,CAAC,QAAD,EAAU,0BAAV,EAAqC,OAArC,CAAJ;AACD;AAEF,OAxBD;AAyBH;AACF,GA1EH;;AA2EE,MAAGQ,OAAH,EAAW;AACT,wBACI;AAAK,MAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAGH;;AAEH,sBACE;AAAA,4BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,+BAAf;AAA+C,MAAA,KAAK,EAAE;AAAEyC,QAAAA,MAAM,EAAE;AAAV,OAAtD;AAAA,8BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAGE;AAAK,QAAA,SAAS,EAAC,2CAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,8BAAf;AAAA,iCACE;AAAA,mCAEE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,qCAEA;AAAK,gBAAA,SAAS,EAAC,0FAAf;AAAA,wCACA;AAAK,kBAAA,SAAS,EAAC,mCAAf;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,kCAAf;AAAA,2CACE;AAAI,sBAAA,SAAS,EAAC,iCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADA,eAMA;AAAK,kBAAA,SAAS,EAAC,oCAAf;AAAA,yCACE;AAAA,4CACE;AAAI,sBAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,4BADF,eAIE;AAAK,sBAAA,SAAS,EAAC,gBAAf;AAAA,8CAEE;AAAK,wBAAA,SAAS,EAAC,uBAAf;AAAA,+CACE;AAAK,0BAAA,SAAS,EAAC,sBAAf;AAAA,kDACE;AACE,4BAAA,SAAS,EAAC,sDADZ;AAEE,4BAAA,OAAO,EAAC,eAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAOE;AACE,4BAAA,IAAI,EAAC,MADP;AAEE,4BAAA,EAAE,EAAC,UAFL;AAGE,4BAAA,SAAS,EAAC,qKAHZ;AAIE,4BAAA,YAAY,EAAEvC,KAAK,CAACwC;AAJtB;AAAA;AAAA;AAAA;AAAA,kCAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BAFF,eAmBE;AAAK,wBAAA,SAAS,EAAC,uBAAf;AAAA,+CACE;AAAK,0BAAA,SAAS,EAAC,sBAAf;AAAA,kDACE;AACE,4BAAA,SAAS,EAAC,sDADZ;AAEE,4BAAA,OAAO,EAAC,eAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAOE;AACE,4BAAA,IAAI,EAAC,MADP;AAEE,4BAAA,QAAQ,MAFV;AAGE,4BAAA,SAAS,EAAC,wKAHZ;AAIE,4BAAA,YAAY,EAAExC,KAAK,CAACyC;AAJtB;AAAA;AAAA;AAAA;AAAA,kCAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BAnBF,eAoCE;AAAK,wBAAA,SAAS,EAAC,uBAAf;AAAA,+CACA;AAAK,0BAAA,SAAS,EAAC,sBAAf;AAAA,kDACE;AACE,4BAAA,SAAS,EAAC,sDADZ;AAEE,4BAAA,OAAO,EAAC,eAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAOE;AACE,4BAAA,IAAI,EAAC,OADP;AAEE,4BAAA,EAAE,EAAC,OAFL;AAGE,4BAAA,SAAS,EAAC,qKAHZ;AAIE,4BAAA,YAAY,EAAEzC,KAAK,CAAC0C;AAJtB;AAAA;AAAA;AAAA;AAAA,kCAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,8BApCF,eAqDE;AAAK,wBAAA,SAAS,EAAC,uBAAf;AAAA,+CACE;AAAK,0BAAA,SAAS,EAAC,sBAAf;AAAA,kDACE;AACE,4BAAA,SAAS,EAAC,sDADZ;AAEE,4BAAA,OAAO,EAAC,eAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAOE;AACE,4BAAA,IAAI,EAAC,MADP;AAEE,4BAAA,EAAE,EAAC,OAFL;AAGE,4BAAA,SAAS,EAAC,4JAHZ;AAIE,4BAAA,YAAY,EAAE1C,KAAK,CAAC2C;AAJtB;AAAA;AAAA;AAAA;AAAA,kCAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BArDF,eAsEE;AAAK,wBAAA,SAAS,EAAC,uBAAf;AAAA,+CACE;AAAK,0BAAA,SAAS,EAAC,sBAAf;AAAA,kDACE;AACE,4BAAA,SAAS,EAAC,sDADZ;AAEE,4BAAA,OAAO,EAAC,eAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAOE;AACE,4BAAA,IAAI,EAAC,MADP;AAEE,4BAAA,EAAE,EAAC,QAFL;AAGE,4BAAA,SAAS,EAAC,4JAHZ;AAIE,4BAAA,YAAY,EAAE3C,KAAK,CAAC4C;AAJtB;AAAA;AAAA;AAAA;AAAA,kCAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BAtEF;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJF,eA6FE;AAAI,sBAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,4BA7FF,eA8FE;AAAK,sBAAA,SAAS,EAAC,qBAAf;AAAA,6CACE;AAAK,wBAAA,SAAS,EAAC,wBAAf;AAAA,+CACI;AAAK,0BAAA,SAAS,EAAC,sBAAf;AAAA,iDACA;AAAQ,4BAAA,IAAI,EAAC,QAAb;AAAsB,4BAAA,OAAO,EAAEvB,YAA/B;AAA6C,4BAAA,SAAS,EAAC,0EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BA9FF,eAuGE;AAAK,sBAAA,SAAS,EAAC,qBAAf;AAAA,6CACE;AAAK,wBAAA,SAAS,EAAC,wBAAf;AAAA,+CACE;AAAK,0BAAA,SAAS,EAAC,sBAAf;AAAA,iDACE;AAAQ,4BAAA,IAAI,EAAC,QAAb;AAAsB,4BAAA,OAAO,EAAED,YAA/B;AAA6C,4BAAA,SAAS,EAAC,wEAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BAvGF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAHF,eAyIE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cAzIF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiJD;;GAxQuBzB,Y;;KAAAA,Y","sourcesContent":["import Axios from \"axios\";\r\nimport React, {useState, useEffect} from \"react\";\r\nimport swal from \"sweetalert\";\r\nimport Sidebar from \"../admin/Sidebar_Admin\";\r\nimport Navbar from \"../components/Navbars/AdminNavbar\";\r\nimport Footer from \"../components/Footers/Footer\";\r\nimport { get } from \"jquery\";\r\n// components\r\n\r\n// const useFormInput = (initialValue) => {\r\n//   const [value, setValue] = useState(initialValue);\r\n\r\n//   const handleChange = (e) => {\r\n//     setValue(e.target.value);\r\n//   };\r\n//   return {\r\n//     value,\r\n//     onChange: handleChange,\r\n//   };\r\n// };\r\n\r\nexport default function CardSettings() {\r\n\r\n    const [error, setError] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [users,setUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        console.log(sessionStorage.user);\r\n        console.log(atob(sessionStorage.user));\r\n        let formData = new FormData();\r\n        formData.append(\"nokp\",atob(sessionStorage.user));\r\n        const fetchUser = async () =>{\r\n            setLoading(true);\r\n            const res = await Axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=get_user',formData)\r\n            .then(response => {\r\n                // setUsers(response.data.data);\r\n                if(response.data.status === 'success'){\r\n                    setUsers(response.data.data);\r\n                    // console.log(users);\r\n                    console.log('Response',response);\r\n                    console.log('Users :',users);\r\n                }else{\r\n                    swal('Masaalah Teknikal','Hubungi pentadbir system','error');\r\n                    window.location.href = './usermanagement';\r\n                }\r\n                setLoading(false);\r\n            })\r\n            \r\n            \r\n\r\n        }\r\n        fetchUser();\r\n        // console.log('Users :',users);\r\n    },[]);\r\n\r\n    const handleDelete = () => {\r\n        console.log('delete');\r\n    }\r\n    const handleUpdate = () => {\r\n\r\n        // var username  = document.getElementById(\"username\").value;\r\n        // var email     = document.getElementById(\"email\").value;\r\n        // var notel     = document.getElementById(\"notel\").value;\r\n\r\n        // const username = useFormInput(\"\");\r\n        // const email = useFormInput(\"\");\r\n        // const notel = useFormInput(\"\");\r\n        // const status = useFormInput(\"\");\r\n        const username = document.getElementById(\"username\").value;\r\n        const email = document.getElementById(\"email\").value;\r\n        const notel = document.getElementById(\"notel\").value\r\n        const status = document.getElementById(\"status\").value\r\n    \r\n        if(username == \"\")\r\n        {\r\n          swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\",\"error\");\r\n          return false;\r\n        }\r\n        else if(email == \"\")\r\n        {\r\n          swal(\"Opss!\", \"Emel tidak boleh dikosongkan\",\"error\");\r\n          return false;\r\n        }\r\n        else if(notel == \"\")\r\n        { \r\n          swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\",\"error\");\r\n          return false;\r\n        }\r\n        else\r\n        {\r\n    \r\n          var formdata = new FormData();\r\n    \r\n            // formdata.append(\"username\", username.trim());\r\n            // formdata.append(\"email\", email.trim());\r\n            // formdata.append(\"nokp\", user);\r\n            // formdata.append(\"notel\", notel.trim());\r\n    \r\n            var requestOptions = {\r\n            method: 'POST',\r\n            body: formdata,\r\n            redirect: 'follow'\r\n            };\r\n    \r\n            var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\r\n    \r\n            fetch(urlAPI, requestOptions)\r\n            .then(response => response.json())\r\n            .then(result => {\r\n    \r\n              if(result.status == \"success\"){\r\n    \r\n                setLoading(\"false\");\r\n                swal(\"Berjaya!\",\"Akaun profil anda sudah dikemaskini.\",\"success\");\r\n    \r\n                sessionStorage.removeItem('username');\r\n                sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\r\n    \r\n                sessionStorage.removeItem('email');\r\n                sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\r\n    \r\n                window.location.href = \"./admin/usermanagement\";\r\n    \r\n              }\r\n              else\r\n              {\r\n                setLoading(\"false\");\r\n                swal(\"Ralat!\",\"Kemaskini tidak berjaya.\",\"error\");\r\n              }\r\n    \r\n            })\r\n        }\r\n      }\r\n      if(loading){\r\n        return (\r\n            <div className=\"\">Loading...</div>\r\n        );\r\n    }\r\n\r\n  return (\r\n    <div>\r\n      <Sidebar />\r\n      <div className=\"relative md:ml-64 bg-blue-400\" style={{ height: \"100%\" }}>\r\n        <Navbar />\r\n        {/* Header */}\r\n        <div className=\"relative bg-blue-600 md:pt-32 pb-16 pt-12\">\r\n          <div className=\"px-4 md:px-10 mx-auto w-full\">\r\n            <div>\r\n              {/* Card stats */}\r\n              <div className=\"flex flex-wrap\">\r\n\r\n              <div className=\"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg  bg-gray-300 border-0\">\r\n              <div className=\"rounded-t bg-white mb-0 px-6 py-6\">\r\n                <div className=\"text-center flex justify-between\">\r\n                  <h6 className=\"text-gray-800 text-xl font-bold\">Akaun mymps</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n                <form>\r\n                  <h6 className=\"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\">\r\n                    \r\n                  </h6>\r\n                  <div className=\"flex flex-wrap\">\r\n      \r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <label\r\n                          className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                          htmlFor=\"grid-password\"\r\n                        >\r\n                          Nama Penuh \r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          id=\"username\"\r\n                          className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                          defaultValue={users.U_USERNAME}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n      \r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <label\r\n                          className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                          htmlFor=\"grid-password\"\r\n                        >\r\n                          NOMBOR KAD PENGENALAN\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          readOnly\r\n                          className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                          defaultValue={users.U_USERIC}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n      \r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                    <div className=\"relative w-full mb-3\">\r\n                      <label\r\n                        className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                        htmlFor=\"grid-password\"\r\n                      >\r\n                        Alamat Emel\r\n                      </label>\r\n                      <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                        defaultValue={users.U_USEREMAIL}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n      \r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <label\r\n                          className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                          htmlFor=\"grid-password\"\r\n                        >\r\n                          NOMBOR TELEFON\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          id=\"notel\"\r\n                          className=\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                          defaultValue={users.U_USERPHONE}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <label\r\n                          className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                          htmlFor=\"grid-password\"\r\n                        >\r\n                          Status\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          id=\"status\"\r\n                          className=\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                          defaultValue={users.U_USERSTATUS}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n      \r\n                  </div>\r\n      \r\n                  <hr className=\"mt-6 border-b-1 border-gray-400\" />\r\n                  <div className=\"flex flex-wrap mt-6\">\r\n                    <div className=\"w-full lg:w-12/12 px-4\">\r\n                        <div className=\"relative w-full mb-3\">\r\n                        <button type=\"button\" onClick={handleUpdate} className=\"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\">\r\n                            Kemaskini\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                  <div className=\"flex flex-wrap mt-6\">\r\n                    <div className=\"w-full lg:w-12/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <button type=\"button\" onClick={handleDelete} className=\"bg-red-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\">\r\n                          Padam\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                </form>\r\n              </div>\r\n            </div>\r\n              \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}