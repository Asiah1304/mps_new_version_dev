{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\mps_new_version_dev\\\\src\\\\components\\\\Cards\\\\CardSettings.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Pane, Button, Heading, TextInputField, Text } from \"evergreen-ui\";\nimport swal from \"sweetalert\"; // components\n\nconst useFormInput = initialValue => {\n  _s();\n\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\n_s(useFormInput, \"L08zUdRTae9t+nWvf9xbU6NcRrM=\");\n\nexport default function CardSettings({\n  color = \"blue\"\n}) {\n  _s2();\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [username, setUsername] = useState(nama);\n  const [nokp, setIC] = useState(nokp);\n  const [email, setEmail] = useState(email);\n  const [notel, setTelephone] = useState(notel);\n  const [password, setPassword] = useState(\"\");\n  const [new_password, setNewPassword] = useState(\"\");\n  const [conf_password, setConformPassword] = useState(\"\");\n  const [openTab, setOpenTab] = useState(1);\n\n  const handleUpdate = () => {\n    if (username == \"\") {\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\", \"error\");\n      return false;\n    } else if (email == \"\") {\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else if (notel == \"\") {\n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else {\n      var formdata = new FormData();\n      formdata.append(\"username\", username.trim());\n      formdata.append(\"email\", email.trim());\n      formdata.append(\"nokp\", nokp);\n      formdata.append(\"notel\", notel.trim());\n      var requestOptions = {\n        method: 'POST',\n        body: formdata,\n        redirect: 'follow'\n      };\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\n      fetch(urlAPI, requestOptions).then(response => response.json()).then(result => {\n        if (result.status == \"success\") {\n          setLoading(\"false\");\n          swal(\"Berjaya!\", \"Akaun profil anda sudah dikemaskini.\", \"success\");\n          sessionStorage.removeItem('username');\n          sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\n          sessionStorage.removeItem('email');\n          sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\n          window.location.href = \"./setting\";\n        } else {\n          setLoading(\"false\");\n          swal(\"Ralat!\", \"Kemaskini tidak berjaya.\", \"error\");\n        }\n      });\n    }\n  };\n\n  const handleChangePassword = () => {\n    if (password == \"\") {\n      swal(\"Opss\", \"Sila isi kata laluan terkini.\", \"error\");\n    } else if (new_password == \"\") {\n      swal(\"Opss\", \"Sila isi kata laluan yang baru.\", \"error\");\n    } else if (conf_password == \"\") {\n      swal(\"Opss\", \"Sila isi pengesahan kata laluan yang baru.\", \"error\");\n    } else if (new_password !== conf_password) {\n      swal(\"Opss\", \"Kata laluan anda tidak sah\", \"error\");\n    } else {\n      console.log(password);\n      console.log(new_password);\n      console.log(conf_password);\n      swal({\n        title: \"Set Semula Kata Laluan\",\n        text: \"Anda pasti untuk set semula kata laluan akaun anda?\",\n        button: true,\n        dangerMode: true\n      }).then(change => {\n        if (change) {\n          swal(\"Kata laluan akaun anda sudah dikemaskini!\");\n        } else {}\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row justify-center\",\n        role: \"tablist\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"-mb-px mr-2 last:mr-0 flex-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" + (openTab === 1 ? \"text-white bg-\" + color + \"-600\" : \"text-\" + color + \"-600 bg-white\"),\n            onClick: e => {\n              e.preventDefault();\n              setOpenTab(1);\n            },\n            \"data-toggle\": \"tab\",\n            href: \"#link1\",\n            role: \"tablist\",\n            children: \"Profil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"-mb-px mr-2 last:mr-0 flex-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" + (openTab === 2 ? \"text-white bg-\" + color + \"-600\" : \"text-\" + color + \"-600 bg-white\"),\n            onClick: e => {\n              e.preventDefault();\n              setOpenTab(2);\n            },\n            \"data-toggle\": \"tab\",\n            href: \"#link2\",\n            role: \"tablist\",\n            children: \"Kata Laluan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 flex-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tab-content tab-space\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: openTab === 1 ? \"block\" : \"hidden\",\n              id: \"link1\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 10,\n                  background: \"#dfe6e9\",\n                  borderRadius: 5,\n                  children: /*#__PURE__*/_jsxDEV(Pane, {\n                    flex: 1,\n                    alignItems: \"center\",\n                    display: \"flex\",\n                    children: /*#__PURE__*/_jsxDEV(Text, {\n                      size: 600,\n                      children: \"Profil Akaun myMPS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 3,\n                  background: \"tint3\",\n                  borderRadius: 3,\n                  marginTop: \"30px\",\n                  children: /*#__PURE__*/_jsxDEV(Pane, {\n                    flex: 1,\n                    alignItems: \"center\",\n                    children: [/*#__PURE__*/_jsxDEV(TextInputField, {\n                      label: \"NAMA PENUH\",\n                      width: \"100%\",\n                      placeholder: \"Sila isi nama penuh anda\",\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TextInputField, {\n                      label: \"NOMBOR KAD PENGENALAN\",\n                      width: \"100%\",\n                      placeholder: \"Sila isi nombor kad pengenalan anda\",\n                      required: true,\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TextInputField, {\n                      label: \"ALAMAT EMEL\",\n                      width: \"100%\",\n                      placeholder: \"Sila isi alamat emel anda\",\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TextInputField, {\n                      label: \"NOMBOR TELEFON\",\n                      width: \"100%\",\n                      placeholder: \"Sila isi nombor telefon anda\",\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Pane, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"float-right\",\n                    appearance: \"primary\",\n                    intent: \"success\",\n                    type: \"button\",\n                    onClick: handleUpdate,\n                    children: \"Kemaskini\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: openTab === 2 ? \"block\" : \"hidden\",\n              id: \"link2\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 10,\n                  background: \"#636e72\",\n                  borderRadius: 5,\n                  children: /*#__PURE__*/_jsxDEV(Pane, {\n                    flex: 1,\n                    alignItems: \"center\",\n                    display: \"flex\",\n                    children: /*#__PURE__*/_jsxDEV(Text, {\n                      size: 600,\n                      color: \"white\",\n                      children: \"Set Kata Laluan\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 16,\n                  background: \"tint3\",\n                  borderRadius: 3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s2(CardSettings, \"oJsVE56D7KU6tMXGte7keceipTM=\");\n\n_c = CardSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardSettings\");","map":{"version":3,"sources":["C:/Users/Admin/mps_new_version_dev/src/components/Cards/CardSettings.js"],"names":["React","useState","Pane","Button","Heading","TextInputField","Text","swal","useFormInput","initialValue","value","setValue","handleChange","e","target","onChange","CardSettings","color","error","setError","loading","setLoading","username","setUsername","nama","nokp","setIC","email","setEmail","notel","setTelephone","password","setPassword","new_password","setNewPassword","conf_password","setConformPassword","openTab","setOpenTab","handleUpdate","formdata","FormData","append","trim","requestOptions","method","body","redirect","urlAPI","fetch","then","response","json","result","status","sessionStorage","removeItem","setItem","data","window","location","href","handleChangePassword","console","log","title","text","button","dangerMode","change","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Pane, Button, Heading, TextInputField, Text } from \"evergreen-ui\";\r\nimport swal from \"sweetalert\";\r\n\r\n// components\r\n\r\nconst useFormInput = (initialValue) => {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const handleChange = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n  return {\r\n    value,\r\n    onChange: handleChange,\r\n  };\r\n};\r\n\r\nexport default function CardSettings({ \r\n  color = \"blue\",\r\n}) {\r\n\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [username, setUsername] = useState(nama);\r\n  const [nokp, setIC] = useState(nokp);\r\n  const [email, setEmail] = useState(email);\r\n  const [notel, setTelephone] = useState(notel);           \r\n  const [password, setPassword] = useState(\"\");\r\n  const [new_password, setNewPassword] = useState(\"\");\r\n  const [conf_password, setConformPassword] = useState(\"\");\r\n  const [openTab, setOpenTab] = useState(1);\r\n\r\n  const handleUpdate = () => {\r\n\r\n    if (username == \"\") {\r\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\", \"error\");\r\n      return false;\r\n    }\r\n    else if (email == \"\") {\r\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\", \"error\");\r\n      return false;\r\n    }\r\n    else if (notel == \"\") {\r\n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\", \"error\");\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      var formdata = new FormData();\r\n\r\n      formdata.append(\"username\", username.trim());\r\n      formdata.append(\"email\", email.trim());\r\n      formdata.append(\"nokp\", nokp);\r\n      formdata.append(\"notel\", notel.trim());\r\n\r\n      var requestOptions = {\r\n        method: 'POST',\r\n        body: formdata,\r\n        redirect: 'follow'\r\n      };\r\n\r\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\r\n\r\n      fetch(urlAPI, requestOptions)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n\r\n          if (result.status == \"success\") {\r\n\r\n            setLoading(\"false\");\r\n            swal(\"Berjaya!\", \"Akaun profil anda sudah dikemaskini.\", \"success\");\r\n\r\n            sessionStorage.removeItem('username');\r\n            sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\r\n\r\n            sessionStorage.removeItem('email');\r\n            sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\r\n\r\n            window.location.href = \"./setting\";\r\n\r\n          }\r\n          else {\r\n            setLoading(\"false\");\r\n            swal(\"Ralat!\", \"Kemaskini tidak berjaya.\", \"error\");\r\n          }\r\n\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleChangePassword = () => {\r\n\r\n    if (password == \"\") {\r\n      swal(\"Opss\", \"Sila isi kata laluan terkini.\", \"error\");\r\n    } else if (new_password == \"\") {\r\n      swal(\"Opss\", \"Sila isi kata laluan yang baru.\", \"error\")\r\n    } else if (conf_password == \"\") {\r\n      swal(\"Opss\", \"Sila isi pengesahan kata laluan yang baru.\", \"error\")\r\n    } else if (new_password !== conf_password) {\r\n      swal(\"Opss\", \"Kata laluan anda tidak sah\", \"error\")\r\n    } else {\r\n\r\n      console.log(password);\r\n      console.log(new_password);\r\n      console.log(conf_password);\r\n      swal({\r\n        title: \"Set Semula Kata Laluan\",\r\n        text: \"Anda pasti untuk set semula kata laluan akaun anda?\",\r\n        button: true,\r\n        dangerMode: true,\r\n      }).then((change) => {\r\n        if (change) {\r\n          swal(\"Kata laluan akaun anda sudah dikemaskini!\");\r\n        } else {\r\n\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n      <div className=\"w-full\">\r\n        <ul className=\"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row justify-center\" role=\"tablist\">\r\n          <li className=\"-mb-px mr-2 last:mr-0 flex-auto text-center\">\r\n            <a\r\n              className={\r\n                \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" +\r\n                (openTab === 1\r\n                  ? \"text-white bg-\" + color + \"-600\"\r\n                  : \"text-\" + color + \"-600 bg-white\")\r\n              }\r\n              onClick={e => {\r\n                e.preventDefault();\r\n                setOpenTab(1);\r\n              }}\r\n              data-toggle=\"tab\"\r\n              href=\"#link1\"\r\n              role=\"tablist\"\r\n            >\r\n              Profil\r\n              </a>\r\n          </li>\r\n          <li className=\"-mb-px mr-2 last:mr-0 flex-auto text-center\">\r\n            <a\r\n              className={\r\n                \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" +\r\n                (openTab === 2\r\n                  ? \"text-white bg-\" + color + \"-600\"\r\n                  : \"text-\" + color + \"-600 bg-white\")\r\n              }\r\n              onClick={e => {\r\n                e.preventDefault();\r\n                setOpenTab(2);\r\n              }}\r\n              data-toggle=\"tab\"\r\n              href=\"#link2\"\r\n              role=\"tablist\"\r\n            >\r\n              Kata Laluan\r\n              </a>\r\n          </li>\r\n        </ul>\r\n\r\n        <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n            <div className=\"px-4 py-5 flex-auto\">\r\n              <div className=\"tab-content tab-space\">\r\n                <div className={openTab === 1 ? \"block\" : \"hidden\"} id=\"link1\">\r\n                  <p>\r\n                  <Pane display=\"flex\" padding={10} background=\"#dfe6e9\" borderRadius={5}>\r\n                    <Pane flex={1} alignItems=\"center\" display=\"flex\">\r\n                      <Text size={600}>Profil Akaun myMPS</Text>\r\n                    </Pane>\r\n                  </Pane>\r\n\r\n                  <Pane display=\"flex\" padding={3} background=\"tint3\" borderRadius={3} marginTop=\"30px\">\r\n                    <Pane flex={1} alignItems=\"center\">\r\n                      <TextInputField\r\n                        label=\"NAMA PENUH\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi nama penuh anda\"\r\n                        required={true}\r\n                      />\r\n\r\n                      <TextInputField\r\n                        label=\"NOMBOR KAD PENGENALAN\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi nombor kad pengenalan anda\"\r\n                        required={true}\r\n                        disabled\r\n                      />\r\n\r\n                      <TextInputField\r\n                        label=\"ALAMAT EMEL\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi alamat emel anda\"\r\n                        required={true}\r\n                      />\r\n\r\n                      <TextInputField\r\n                        label=\"NOMBOR TELEFON\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi nombor telefon anda\"\r\n                        required={true}\r\n                      />\r\n                    </Pane>\r\n                  </Pane>\r\n                  <Pane>\r\n                    <Button\r\n                      className=\"float-right\"\r\n                      appearance=\"primary\"\r\n                      intent=\"success\"\r\n                      type=\"button\"\r\n                      onClick={handleUpdate}\r\n                    >\r\n                      Kemaskini\r\n                    </Button>\r\n                  </Pane>\r\n                  </p>\r\n                </div>\r\n                <div className={openTab === 2 ? \"block\" : \"hidden\"} id=\"link2\">\r\n                  <p>\r\n                  <Pane display=\"flex\" padding={10} background=\"#636e72\" borderRadius={5}>\r\n                    <Pane flex={1} alignItems=\"center\" display=\"flex\">\r\n                      <Text size={600} color=\"white\">Set Kata Laluan</Text>\r\n                    </Pane>\r\n                  </Pane>\r\n\r\n                  <Pane display=\"flex\" padding={16} background=\"tint3\" borderRadius={3}>\r\n                    \r\n                  </Pane>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n\r\n\r\n\r\n      {/* <div className=\"w-full lg:w-6/12 shadow-lg bg-gray-400 rounded-2xl mb-5 h-full\">\r\n        <div className=\"rounded-t-2xl bg-white mb-0 px-6 py-6\">\r\n          <div className=\"text-center flex justify-between\">\r\n            <Heading size={600}>Akaun myMPS</Heading>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n          <form>\r\n            <h6 className=\"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\">\r\n\r\n            </h6>\r\n            <div className=\"flex flex-wrap\">\r\n\r\n              <div className=\"w-full  px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Nama Penuh\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    {...username}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={sessionStorage.getItem(\"username\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full  px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    NOMBOR KAD PENGENALAN\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    {...nokp}\r\n                    readOnly\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={sessionStorage.getItem(\"nokp\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full  px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Alamat Emel\r\n                </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    {...email}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={sessionStorage.getItem(\"email\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    NOMBOR TELEFON\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"notel\"\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={notel}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\r\n\r\n            <div className=\"flex flex-wrap mt-6\">\r\n              <div className=\"w-full lg:w-12/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <Button\r\n                    className=\"float-right\"\r\n                    appearance=\"primary\"\r\n                    intent=\"success\"\r\n                    type=\"button\"\r\n                    onClick={handleUpdate}\r\n                  >\r\n                    Kemaskini\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\" w-full lg:w-6/12 shadow-lg  bg-gray-300 rounded-xl\" style={{marginBottom:\"500px\"}}>\r\n        <div className=\"rounded-t-xl bg-white mb-0 px-6 py-6\">\r\n          <div className=\"text-center flex justify-between\">\r\n          <Heading size={600}>Set semula kata laluan</Heading>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n          <form>\r\n            <h6 className=\"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\">\r\n\r\n            </h6>\r\n            <div className=\"flex flex-wrap\">\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Kata Laluan Sekarang\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Kata Laluan Baru\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Pengesahan Kata Laluan\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    onChange={(e) => setConformPassword(e.target.value)}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\r\n\r\n            <div className=\"flex flex-wrap mt-6\">\r\n              <div className=\"w-full lg:w-12/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <Button \r\n                  className=\"float-right\"\r\n                  type=\"button\"\r\n                  intent=\"success\"\r\n                  appearance=\"primary\"\r\n                  onClick={handleChangePassword}\r\n                  >Kemaskini\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </div> */}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}