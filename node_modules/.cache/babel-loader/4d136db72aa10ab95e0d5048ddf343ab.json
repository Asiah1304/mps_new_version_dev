{"ast":null,"code":"import _slicedToArray from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import Axios from'axios';import React,{useState,useEffect}from'react';import swal from'sweetalert';import{getUser,getNOKP,getToken,removeUserSession}from\"./Utils/Common\";export default function Carian(_ref){var bill=_ref.bill,display=_ref.display;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var nokp=getNOKP();var accountType=\"\";useEffect(function(){console.log('bill ',bill);if(bill.type==='nokp')accountType='No Kad Pengenalan';if(bill.type==='akaun')accountType='Akaun';if(bill.type==='ssm')accountType='No SSM';},[bill]);var handleAdd=function handleAdd(e){setLoading(true);var formData=new FormData();formData.append('nokp',nokp);formData.append('account',bill.noakaun);console.log(nokp);console.log(bill.noakaun);Axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=newBill',formData).then(function(res){console.log('Response : ',res.data);if(res.data.status===\"success\"){console.log(res);swal('Berjaya Tambah','Berjaya tambah akaun untuk pembayaran','success');window.location.href='/bill';}else if(res.data.status===\"failure\"){swal(\"Tidak Berjaya\",accountType+\" ini telah didaftarkan ke akaun anda.\",\"error\");}else{console.log(res.status);swal('Ralat','Operasi tidak dapat diselesaikan','error');}setLoading(false);}).catch(function(err){console.log('error',err);swal('Ralat','Sila hubungi pentadbir sistem!','error');});};if(!display){return/*#__PURE__*/_jsx(\"div\",{});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 md:px-2 mx-auto w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold uppercase text-lg text-gray-800\",children:// dataset.jenis\n// bill.type\nbill.nokp})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-auto pl-4 flex-initial\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold uppercase text-lg text-gray-800\",children:[\"Akaun :\\xA0\",//dataset.amaun\nbill.noakaun]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-row pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold uppercase text-lg text-gray-800\",children:// dataset.akaun\n// bill.code\nbill.nama_pemilik}),/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:// dataset.tempoh\n// bill.description\nbill.add_harta})]})})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-initial flex-row-reverse pt-4 pb-4\",children:/*#__PURE__*/_jsx(\"button\",{id:\"type\",type:\"button\",onClick:handleAdd,className:\"text-white text-center bg-green-500 flex-row-reverse rounded-full w-32 h-12\",children:loading?'Menambah..':'Tambah'})})]})});}}","map":{"version":3,"sources":["C:/Users/Admin/mps_new_version_dev/src/Carian.js"],"names":["Axios","React","useState","useEffect","swal","getUser","getNOKP","getToken","removeUserSession","Carian","bill","display","loading","setLoading","nokp","accountType","console","log","type","handleAdd","e","formData","FormData","append","noakaun","post","then","res","data","status","window","location","href","catch","err","nama_pemilik","add_harta"],"mappings":"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","sourcesContent":["import Axios from 'axios';\r\nimport React, {useState, useEffect} from 'react'\r\nimport swal from 'sweetalert'\r\nimport { getUser, getNOKP, getToken, removeUserSession } from \"./Utils/Common\";\r\n\r\nexport default function Carian({bill, display}){\r\n\r\n    const [loading,setLoading] = useState(false);\r\n    const nokp    = getNOKP();\r\n    let accountType = \"\";\r\n\r\n        useEffect(() =>{\r\n            console.log('bill ',bill);\r\n            if(bill.type === 'nokp')\r\n            accountType = 'No Kad Pengenalan';\r\n            if(bill.type === 'akaun')\r\n            accountType = 'Akaun';\r\n            if(bill.type === 'ssm')\r\n            accountType = 'No SSM';\r\n        },[bill]);\r\n\r\n        const handleAdd = (e) => {\r\n            setLoading(true);\r\n            const formData = new FormData();\r\n            formData.append('nokp',nokp);\r\n            formData.append('account',bill.noakaun);\r\n            console.log(nokp);\r\n            console.log(bill.noakaun);\r\n            Axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=newBill',formData)\r\n            .then(res => {\r\n\r\n                console.log('Response : ',res.data)\r\n                if(res.data.status === \"success\"){\r\n                    console.log(res);\r\n                    swal('Berjaya Tambah','Berjaya tambah akaun untuk pembayaran','success');\r\n                    window.location.href = '/bill';\r\n                }\r\n                else if(res.data.status === \"failure\"){\r\n                    swal(\"Tidak Berjaya\",accountType+\" ini telah didaftarkan ke akaun anda.\",\"error\");\r\n                }\r\n                else{\r\n                    console.log(res.status);\r\n                    swal('Ralat','Operasi tidak dapat diselesaikan','error');\r\n                }\r\n\r\n                setLoading(false);\r\n            })\r\n            .catch(err =>{\r\n                console.log('error',err)\r\n                swal('Ralat','Sila hubungi pentadbir sistem!','error');\r\n            });\r\n        }\r\n    \r\n    if(!display){\r\n        return (\r\n            <div>\r\n            </div>\r\n        );\r\n    }\r\n    else{\r\n        return (\r\n            <div>\r\n                <div className=\"px-4 md:px-2 mx-auto w-full\">\r\n                    <div className=\"flex flex-wrap\">\r\n                        <div className=\"w-full px-4\">\r\n                            <div className=\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 shadow-lg\">\r\n                                <div className=\"flex-auto p-4\">\r\n                                    <div className=\"flex flex-row pt-4\">\r\n                                        <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\r\n                                            <span className=\"font-semibold uppercase text-lg text-gray-800\">\r\n                                            {\r\n                                            // dataset.jenis\r\n                                            // bill.type\r\n                                                bill.nokp\r\n                                            }\r\n                                            </span>\t\r\n                                        </div>\r\n                                        <div className=\"relative w-auto pl-4 flex-initial\">\r\n                                            <span className=\"font-semibold uppercase text-lg text-gray-800\">Akaun :&nbsp;\r\n                                            {\r\n                                                //dataset.amaun\r\n                                                bill.noakaun\r\n                                            }\r\n                                            </span>\t\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex flex-row pb-4\">\r\n                                        <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\r\n                                            <span className=\"font-semibold uppercase text-lg text-gray-800\">\r\n                                            {\r\n                                            // dataset.akaun\r\n                                            // bill.code\r\n                                            bill.nama_pemilik\r\n                                            }\r\n                                            </span>\t\r\n                                            <h5 className=\"uppercase font-medium text-xs text-gray-600\">\r\n                                            {\r\n                                            // dataset.tempoh\r\n                                            // bill.description\r\n                                            bill.add_harta\r\n                                            }\r\n                                            </h5>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-initial flex-row-reverse pt-4 pb-4\">\r\n                        <button id=\"type\" type=\"button\" onClick={handleAdd} className=\"text-white text-center bg-green-500 flex-row-reverse rounded-full w-32 h-12\">\r\n                                    {loading?'Menambah..':'Tambah'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}