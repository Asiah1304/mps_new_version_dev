{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\mps_new_version_dev\\\\src\\\\components\\\\Cards\\\\CardSettings.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Pane, Button, Heading } from \"evergreen-ui\";\nimport swal from \"sweetalert\"; // components\n\nconst useFormInput = initialValue => {\n  _s();\n\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\n_s(useFormInput, \"L08zUdRTae9t+nWvf9xbU6NcRrM=\");\n\nexport default function CardSettings({\n  notel = \"\",\n  color = \"blue\"\n}) {\n  _s2();\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [new_password, setNewPassword] = useState(\"\");\n  const [conf_password, setConformPassword] = useState(\"\");\n  const [openTab, setOpenTab] = useState(1);\n  const username = sessionStorage.getItem('username');\n  const email = sessionStorage.getItem('email');\n  const nokp = sessionStorage.getItem('nokp');\n\n  const handleUpdate = () => {\n    var username = document.getElementById(\"username\").value;\n    var email = document.getElementById(\"email\").value;\n    var notel = document.getElementById(\"notel\").value;\n\n    if (username == \"\") {\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\", \"error\");\n      return false;\n    } else if (email == \"\") {\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else if (notel == \"\") {\n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else {\n      var formdata = new FormData();\n      formdata.append(\"username\", username.trim());\n      formdata.append(\"email\", email.trim());\n      formdata.append(\"nokp\", nokp);\n      formdata.append(\"notel\", notel.trim());\n      var requestOptions = {\n        method: 'POST',\n        body: formdata,\n        redirect: 'follow'\n      };\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\n      fetch(urlAPI, requestOptions).then(response => response.json()).then(result => {\n        if (result.status == \"success\") {\n          setLoading(\"false\");\n          swal(\"Berjaya!\", \"Akaun profil anda sudah dikemaskini.\", \"success\");\n          sessionStorage.removeItem('username');\n          sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\n          sessionStorage.removeItem('email');\n          sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\n          window.location.href = \"./setting\";\n        } else {\n          setLoading(\"false\");\n          swal(\"Ralat!\", \"Kemaskini tidak berjaya.\", \"error\");\n        }\n      });\n    }\n  };\n\n  const handleChangePassword = () => {\n    if (password == \"\") {\n      swal(\"Opss\", \"Sila isi kata laluan terkini.\", \"error\");\n    } else if (new_password == \"\") {\n      swal(\"Opss\", \"Sila isi kata laluan yang baru.\", \"error\");\n    } else if (conf_password == \"\") {\n      swal(\"Opss\", \"Sila isi pengesahan kata laluan yang baru.\", \"error\");\n    } else if (new_password !== conf_password) {\n      swal(\"Opss\", \"Kata laluan anda tidak sah\", \"error\");\n    } else {\n      console.log(password);\n      console.log(new_password);\n      console.log(conf_password);\n      swal({\n        title: \"Set Semula Kata Laluan\",\n        text: \"Anda pasti untuk set semula kata laluan akaun anda?\",\n        button: true,\n        dangerMode: true\n      }).then(change => {\n        if (change) {\n          swal(\"Kata laluan akaun anda sudah dikemaskini!\");\n        } else {}\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row\",\n        role: \"tablist\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"-mb-px mr-2 last:mr-0 flex-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" + (openTab === 1 ? \"text-white bg-\" + color + \"-600\" : \"text-\" + color + \"-600 bg-white\"),\n            onClick: e => {\n              e.preventDefault();\n              setOpenTab(1);\n            },\n            \"data-toggle\": \"tab\",\n            href: \"#link1\",\n            role: \"tablist\",\n            children: \"Profil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"-mb-px mr-2 last:mr-0 flex-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" + (openTab === 2 ? \"text-white bg-\" + color + \"-600\" : \"text-\" + color + \"-600 bg-white\"),\n            onClick: e => {\n              e.preventDefault();\n              setOpenTab(2);\n            },\n            \"data-toggle\": \"tab\",\n            href: \"#link2\",\n            role: \"tablist\",\n            children: \"Kata Laluan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 flex-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tab-content tab-space\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: openTab === 1 ? \"block\" : \"hidden\",\n              id: \"link1\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 16,\n                  background: \"#425A70\",\n                  color: \"light\",\n                  borderRadius: 3,\n                  children: /*#__PURE__*/_jsxDEV(Pane, {\n                    flex: 1,\n                    alignItems: \"center\",\n                    display: \"flex\",\n                    children: /*#__PURE__*/_jsxDEV(Heading, {\n                      size: 600,\n                      children: \"Profil Akaun myMPS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 16,\n                  background: \"tint3\",\n                  borderRadius: 3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: openTab === 2 ? \"block\" : \"hidden\",\n              id: \"link2\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 16,\n                  background: \"tint2\",\n                  borderRadius: 3,\n                  children: /*#__PURE__*/_jsxDEV(Pane, {\n                    flex: 1,\n                    alignItems: \"center\",\n                    display: \"flex\",\n                    children: /*#__PURE__*/_jsxDEV(Heading, {\n                      size: 600,\n                      children: \"Set Kata Laluan\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 16,\n                  background: \"tint3\",\n                  borderRadius: 3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s2(CardSettings, \"oodtosWSNHNicHv2Ec0xe23z6Hk=\");\n\n_c = CardSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardSettings\");","map":{"version":3,"sources":["C:/Users/Admin/mps_new_version_dev/src/components/Cards/CardSettings.js"],"names":["React","useState","Pane","Button","Heading","swal","useFormInput","initialValue","value","setValue","handleChange","e","target","onChange","CardSettings","notel","color","error","setError","loading","setLoading","password","setPassword","new_password","setNewPassword","conf_password","setConformPassword","openTab","setOpenTab","username","sessionStorage","getItem","email","nokp","handleUpdate","document","getElementById","formdata","FormData","append","trim","requestOptions","method","body","redirect","urlAPI","fetch","then","response","json","result","status","removeItem","setItem","data","window","location","href","handleChangePassword","console","log","title","text","button","dangerMode","change","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Pane, Button, Heading } from \"evergreen-ui\";\r\nimport swal from \"sweetalert\";\r\n\r\n// components\r\n\r\nconst useFormInput = (initialValue) => {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const handleChange = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n  return {\r\n    value,\r\n    onChange: handleChange,\r\n  };\r\n};\r\n\r\nexport default function CardSettings({ notel = \"\", color = \"blue\" }) {\r\n\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [new_password, setNewPassword] = useState(\"\");\r\n  const [conf_password, setConformPassword] = useState(\"\");\r\n  const [openTab, setOpenTab] = useState(1);\r\n\r\n  const username = sessionStorage.getItem('username');\r\n  const email = sessionStorage.getItem('email');\r\n  const nokp = sessionStorage.getItem('nokp');\r\n\r\n  const handleUpdate = () => {\r\n\r\n    var username = document.getElementById(\"username\").value;\r\n    var email = document.getElementById(\"email\").value;\r\n    var notel = document.getElementById(\"notel\").value;\r\n\r\n    if (username == \"\") {\r\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\", \"error\");\r\n      return false;\r\n    }\r\n    else if (email == \"\") {\r\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\", \"error\");\r\n      return false;\r\n    }\r\n    else if (notel == \"\") {\r\n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\", \"error\");\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      var formdata = new FormData();\r\n\r\n      formdata.append(\"username\", username.trim());\r\n      formdata.append(\"email\", email.trim());\r\n      formdata.append(\"nokp\", nokp);\r\n      formdata.append(\"notel\", notel.trim());\r\n\r\n      var requestOptions = {\r\n        method: 'POST',\r\n        body: formdata,\r\n        redirect: 'follow'\r\n      };\r\n\r\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\r\n\r\n      fetch(urlAPI, requestOptions)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n\r\n          if (result.status == \"success\") {\r\n\r\n            setLoading(\"false\");\r\n            swal(\"Berjaya!\", \"Akaun profil anda sudah dikemaskini.\", \"success\");\r\n\r\n            sessionStorage.removeItem('username');\r\n            sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\r\n\r\n            sessionStorage.removeItem('email');\r\n            sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\r\n\r\n            window.location.href = \"./setting\";\r\n\r\n          }\r\n          else {\r\n            setLoading(\"false\");\r\n            swal(\"Ralat!\", \"Kemaskini tidak berjaya.\", \"error\");\r\n          }\r\n\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleChangePassword = () => {\r\n\r\n    if (password == \"\") {\r\n      swal(\"Opss\", \"Sila isi kata laluan terkini.\", \"error\");\r\n    } else if (new_password == \"\") {\r\n      swal(\"Opss\", \"Sila isi kata laluan yang baru.\", \"error\")\r\n    } else if (conf_password == \"\") {\r\n      swal(\"Opss\", \"Sila isi pengesahan kata laluan yang baru.\", \"error\")\r\n    } else if (new_password !== conf_password) {\r\n      swal(\"Opss\", \"Kata laluan anda tidak sah\", \"error\")\r\n    } else {\r\n\r\n      console.log(password);\r\n      console.log(new_password);\r\n      console.log(conf_password);\r\n      swal({\r\n        title: \"Set Semula Kata Laluan\",\r\n        text: \"Anda pasti untuk set semula kata laluan akaun anda?\",\r\n        button: true,\r\n        dangerMode: true,\r\n      }).then((change) => {\r\n        if (change) {\r\n          swal(\"Kata laluan akaun anda sudah dikemaskini!\");\r\n        } else {\r\n\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n      <div className=\"w-full\">\r\n        <ul className=\"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row\" role=\"tablist\">\r\n          <li className=\"-mb-px mr-2 last:mr-0 flex-auto text-center\">\r\n            <a\r\n              className={\r\n                \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" +\r\n                (openTab === 1\r\n                  ? \"text-white bg-\" + color + \"-600\"\r\n                  : \"text-\" + color + \"-600 bg-white\")\r\n              }\r\n              onClick={e => {\r\n                e.preventDefault();\r\n                setOpenTab(1);\r\n              }}\r\n              data-toggle=\"tab\"\r\n              href=\"#link1\"\r\n              role=\"tablist\"\r\n            >\r\n              Profil\r\n              </a>\r\n          </li>\r\n          <li className=\"-mb-px mr-2 last:mr-0 flex-auto text-center\">\r\n            <a\r\n              className={\r\n                \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" +\r\n                (openTab === 2\r\n                  ? \"text-white bg-\" + color + \"-600\"\r\n                  : \"text-\" + color + \"-600 bg-white\")\r\n              }\r\n              onClick={e => {\r\n                e.preventDefault();\r\n                setOpenTab(2);\r\n              }}\r\n              data-toggle=\"tab\"\r\n              href=\"#link2\"\r\n              role=\"tablist\"\r\n            >\r\n              Kata Laluan\r\n              </a>\r\n          </li>\r\n        </ul>\r\n\r\n        <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n            <div className=\"px-4 py-5 flex-auto\">\r\n              <div className=\"tab-content tab-space\">\r\n                <div className={openTab === 1 ? \"block\" : \"hidden\"} id=\"link1\">\r\n                  <p>\r\n                  <Pane display=\"flex\" padding={16} background=\"#425A70\" color=\"light\" borderRadius={3}>\r\n                    <Pane flex={1} alignItems=\"center\" display=\"flex\">\r\n                      <Heading size={600}>Profil Akaun myMPS</Heading>\r\n                    </Pane>\r\n                  </Pane>\r\n\r\n                  <Pane display=\"flex\" padding={16} background=\"tint3\" borderRadius={3}>\r\n                    \r\n                  </Pane>\r\n                  </p>\r\n                </div>\r\n                <div className={openTab === 2 ? \"block\" : \"hidden\"} id=\"link2\">\r\n                  <p>\r\n                  <Pane display=\"flex\" padding={16} background=\"tint2\" borderRadius={3}>\r\n                    <Pane flex={1} alignItems=\"center\" display=\"flex\">\r\n                      <Heading size={600}>Set Kata Laluan</Heading>\r\n                    </Pane>\r\n                  </Pane>\r\n\r\n                  <Pane display=\"flex\" padding={16} background=\"tint3\" borderRadius={3}>\r\n                    \r\n                  </Pane>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n\r\n\r\n\r\n      {/* <div className=\"w-full lg:w-6/12 shadow-lg bg-gray-400 rounded-2xl mb-5 h-full\">\r\n        <div className=\"rounded-t-2xl bg-white mb-0 px-6 py-6\">\r\n          <div className=\"text-center flex justify-between\">\r\n            <Heading size={600}>Akaun myMPS</Heading>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n          <form>\r\n            <h6 className=\"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\">\r\n\r\n            </h6>\r\n            <div className=\"flex flex-wrap\">\r\n\r\n              <div className=\"w-full  px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Nama Penuh\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    {...username}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={sessionStorage.getItem(\"username\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full  px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    NOMBOR KAD PENGENALAN\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    {...nokp}\r\n                    readOnly\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={sessionStorage.getItem(\"nokp\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full  px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Alamat Emel\r\n                </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    {...email}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={sessionStorage.getItem(\"email\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    NOMBOR TELEFON\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"notel\"\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                    defaultValue={notel}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\r\n\r\n            <div className=\"flex flex-wrap mt-6\">\r\n              <div className=\"w-full lg:w-12/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <Button\r\n                    className=\"float-right\"\r\n                    appearance=\"primary\"\r\n                    intent=\"success\"\r\n                    type=\"button\"\r\n                    onClick={handleUpdate}\r\n                  >\r\n                    Kemaskini\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\" w-full lg:w-6/12 shadow-lg  bg-gray-300 rounded-xl\" style={{marginBottom:\"500px\"}}>\r\n        <div className=\"rounded-t-xl bg-white mb-0 px-6 py-6\">\r\n          <div className=\"text-center flex justify-between\">\r\n          <Heading size={600}>Set semula kata laluan</Heading>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n          <form>\r\n            <h6 className=\"text-blue-500 text-sm mt-3 mb-6 font-bold uppercase\">\r\n\r\n            </h6>\r\n            <div className=\"flex flex-wrap\">\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Kata Laluan Sekarang\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Kata Laluan Baru\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <label\r\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                    htmlFor=\"grid-password\"\r\n                  >\r\n                    Pengesahan Kata Laluan\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    onChange={(e) => setConformPassword(e.target.value)}\r\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\r\n\r\n            <div className=\"flex flex-wrap mt-6\">\r\n              <div className=\"w-full lg:w-12/12 px-4\">\r\n                <div className=\"relative w-full mb-3\">\r\n                  <Button \r\n                  className=\"float-right\"\r\n                  type=\"button\"\r\n                  intent=\"success\"\r\n                  appearance=\"primary\"\r\n                  onClick={handleChangePassword}\r\n                  >Kemaskini\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </div> */}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}