{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\ANSI - LI\\\\MyMPS\\\\react\\\\mps_new_version_dev\\\\src\\\\BillList.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { getNOKP } from './Utils/Common';\nimport swal from 'sweetalert';\nexport default function BillList() {\n  _s();\n\n  sessionStorage.removeItem(\"cukai\");\n  const nokp = getNOKP();\n  const displayKP = '<h5 className=\"uppercase font-medium text-xs text-gray-600\">No Kad Pengenalan </h5>';\n\n  const handleViewBill = e => {\n    // set=[e.target.id]\n    // return (\n    // \t senarai = <Senarai />\n    console.log('View');\n    window.location.href = \"/senaraibill\";\n  };\n\n  const handleBayar = (e, a) => {\n    console.log('Bayar');\n    sessionStorage.setItem(\"cukai\", btoa(btoa(e)));\n    sessionStorage.setItem(\"amaun\", btoa(btoa(a)));\n    window.location.href = '/payment?Cukai=' + e;\n  };\n\n  const [dataset, setDataSet] = useState({\n    data: []\n  });\n  useEffect(() => {\n    const formData = new FormData();\n    formData.append('nokp', nokp);\n    axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=showBill', formData).then(res => {\n      console.log(res.data);\n\n      if (res.data.status === 'success') {\n        // swal('jadi','x','success');\n        setDataSet({\n          data: res.data.data\n        });\n      } else {\n        swal('Tiada Akaun Didaftarkan', 'Sila menambah akaun untuk dibayar', 'info');\n      }\n    }).catch(err => {\n      console.log(err);\n      swal('Ralat', 'Sila hubungi pentadbir sistem!', 'error');\n    });\n  }, []);\n\n  const emptyHandler = () => {\n    console.log('Test Handler');\n  };\n\n  const bills = dataset.data.length ? dataset.data.map(bill => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 md:px-2 mx-auto w-full\",\n      onClick: emptyHandler //condition xbetul\n      //(bill.status.toUpperCase() == 'TERTUNGGAK' || bill.status.toUpperCase() == 'Tertunggak') ? (() => handleBayar(bill.code, bill.amaun)):(handleViewBill)\n      ,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 shadow-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-auto p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-row pt-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative w-full pr-4 max-w-full flex-grow flex-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"uppercase font-medium text-xs text-gray-600\",\n                    children: [\"No Kad Pengenalan: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-sm text-gray-800\",\n                      children: bill.NOKP === null ? '-' : bill.NOKP\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 124\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-row pb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative w-full pr-4 max-w-full flex-grow flex-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"uppercase font-medium text-xs text-gray-600\",\n                    children: [\"No Akaun: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-sm text-gray-800\",\n                      children: bill.NOAKAUN\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 115\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-row pb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative w-full pr-4 max-w-full flex-grow flex-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"uppercase font-medium text-xs text-gray-600\",\n                    children: [\"Nama Pemilik: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-sm text-gray-800\",\n                      children: bill.NAMA_PEMILIK\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 119\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-row pb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative w-full pr-4 max-w-full flex-grow flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"uppercase font-medium text-xs text-gray-600\",\n                    children: \"Alamat Harta\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-xs text-gray-800\",\n                    children: bill.ADDRHARTA\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative w-auto pl-4 flex-initial\",\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"uppercase font-medium text-xs text-red-600\",\n                    children: \"STATUS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this)\n    }, bill.NOAKAUN, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this);\n  }) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: bills\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BillList, \"m9PZBqYJoC4Ur9NbR8QgsPyue8s=\");\n\n_c = BillList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BillList\");","map":{"version":3,"sources":["D:/ANSI - LI/MyMPS/react/mps_new_version_dev/src/BillList.js"],"names":["React","Component","useState","useEffect","axios","getNOKP","swal","BillList","sessionStorage","removeItem","nokp","displayKP","handleViewBill","e","console","log","window","location","href","handleBayar","a","setItem","btoa","dataset","setDataSet","data","formData","FormData","append","post","then","res","status","catch","err","emptyHandler","bills","length","map","bill","NOKP","NOAKAUN","NAMA_PEMILIK","ADDRHARTA"],"mappings":"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","sourcesContent":["import React, {Component, useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {getNOKP} from './Utils/Common';\r\nimport swal from 'sweetalert';\r\n\r\nexport default function BillList(){\r\n\r\n    sessionStorage.removeItem(\"cukai\");\r\n    const nokp = getNOKP();\r\n    const displayKP = '<h5 className=\"uppercase font-medium text-xs text-gray-600\">No Kad Pengenalan </h5>'\r\n    const handleViewBill = (e) => {\r\n\t\t// set=[e.target.id]\r\n\t\t// return (\r\n\t\t// \t senarai = <Senarai />\r\n\t\tconsole.log('View');\r\n        window.location.href = \"/senaraibill\";\r\n        \r\n    }\r\n    \r\n    const handleBayar = (e,a) => {\r\n\t\tconsole.log('Bayar');\r\n\t\tsessionStorage.setItem(\"cukai\", btoa(btoa(e)));\r\n\t\tsessionStorage.setItem(\"amaun\", btoa(btoa(a)));\r\n        window.location.href = '/payment?Cukai='+e;\r\n    }\r\n    \r\n    const [dataset, setDataSet] = useState({\r\n        data: []\r\n    });\r\n\r\n    \r\n    useEffect (() => {\r\n        const formData = new FormData();\r\n        formData.append('nokp',nokp);\r\n        axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=showBill',formData)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            if(res.data.status === 'success'){\r\n                // swal('jadi','x','success');\r\n                setDataSet({\r\n                    data:res.data.data\r\n                })\r\n            }\r\n            else{\r\n                swal('Tiada Akaun Didaftarkan','Sila menambah akaun untuk dibayar','info');\r\n            }\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            swal('Ralat','Sila hubungi pentadbir sistem!','error');\r\n        })\r\n\r\n    },[])\r\n    const emptyHandler = () => {\r\n        console.log('Test Handler');\r\n    }\r\n\r\n    const bills = dataset.data.length ? (\r\n        dataset.data.map(bill => {\r\n            return (\r\n                <div className=\"px-4 md:px-2 mx-auto w-full\"\r\n                 onClick={\r\n                     emptyHandler\r\n                     //condition xbetul\r\n                     //(bill.status.toUpperCase() == 'TERTUNGGAK' || bill.status.toUpperCase() == 'Tertunggak') ? (() => handleBayar(bill.code, bill.amaun)):(handleViewBill)\r\n                    }\r\n                key = {bill.NOAKAUN}>\r\n                    <div className=\"flex flex-wrap\">\r\n                        <div className=\"w-full px-4\">\r\n                            <div className=\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 shadow-lg\">\r\n                                <div className=\"flex-auto p-4\">\r\n                                    <div className=\"flex flex-row pt-4\">\r\n                                        <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\r\n                                            <h5 className=\"uppercase font-medium text-xs text-gray-600\">No Kad Pengenalan: <span className=\"font-semibold text-sm text-gray-800\">{ (bill.NOKP === null) ? '-' : bill.NOKP }</span></h5>\r\n                                            \r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex flex-row pb-4\">\r\n                                        <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\r\n                                            <h5 className=\"uppercase font-medium text-xs text-gray-600\">No Akaun: <span className=\"font-semibold text-sm text-gray-800\">{ bill.NOAKAUN }</span></h5>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex flex-row pb-4\">\r\n                                        <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\r\n                                            <h5 className=\"uppercase font-medium text-xs text-gray-600\">Nama Pemilik: <span className=\"font-semibold text-sm text-gray-800\">{ bill.NAMA_PEMILIK }</span></h5>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex flex-row pb-4\">\r\n                                        <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\r\n                                            <h5 className=\"uppercase font-medium text-xs text-gray-600\">Alamat Harta</h5>\r\n                                            <span className=\"font-semibold text-xs text-gray-800\">{ bill.ADDRHARTA }</span>\t\r\n                                        </div>\r\n                                        <div className=\"relative w-auto pl-4 flex-initial\" >\r\n                                            <h5 className=\"uppercase font-medium text-xs text-red-600\">STATUS\r\n                                            {\r\n                                            // dataset.status\r\n                                            // bill.status\r\n                                            }\r\n                                            </h5>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    ) : (\r\n        <div></div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"\">\r\n            {bills}\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}