{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, NavLink } from \"react-router-dom\";\nimport PrivateRoute from \"./Utils/PrivateRoute\";\nimport PublicRoute from \"./Utils/PublicRoute\";\nimport GoogleRoute from \"./Utils/GoogleRoute\";\nimport { getToken, getNOKP, getUser, getEmail, removeUserSession, setUserSession } from \"./Utils/Common\";\nimport Login from \"./Login\";\nimport Dashboard from \"./Dashboard\";\nimport Setting from \"./Profile\";\nimport Bill from \"./BayarBill\";\nimport Home from \"./Home\";\nimport Register from \"./Register\";\nimport ForgotPassword from \"./ForgotPassword\";\nimport GoogleLogin from \"./GoogleLogin\";\nimport NotFound from \"./NotFound\";\nimport SenaraiBil from \"./SenaraiBil\";\nimport Payment from \"./Payment\";\nimport Add from \"./Add\";\nimport Admin_Dashboard from \"./admin/Dashboard_Admin\";\nimport { useLoading, Audio } from \"@agney/react-loading\"; //import \"./main.css\";\n\nfunction App() {\n  _s();\n\n  const [authLoading, setAuthLoading] = useState(true);\n  const {\n    containerProps,\n    indicatorEl\n  } = useLoading({\n    loading: true,\n    indicator: /*#__PURE__*/_jsxDEV(Audio, {\n      width: \"50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 16\n    }, this)\n  });\n  useEffect(() => {\n    if (getEmail() && getEmail()) {\n      var formdata = new FormData();\n      formdata.append(\"nokp\", getNOKP());\n      formdata.append(\"email\", getEmail());\n      var requestOptions = {\n        method: \"POST\",\n        body: formdata,\n        redirect: \"follow\"\n      };\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=check_session\";\n      fetch(urlAPI, requestOptions).then(response => response.json()).then(result => {\n        setUserSession(btoa(result.data[0]), result.data[0][\"MPS_USERNAME\"], result.data[0][\"MPS_USERIC\"], result.data[0][\"MPS_USEREMAIL\"]);\n        sessionStorage.setItem(\"role\", result.data[0][\"MPS_USERROLE\"]);\n\n        if (result.data[0][\"MPS_USERROLE\"] == \"Admin\") {//window.location.href = \"/admin/dashboard\";\n        }\n\n        setAuthLoading(false); // window.location.href=\"/home\";\n      }).catch(error => {\n        console.log(error);\n        removeUserSession();\n        setAuthLoading(false);\n      });\n    }\n  }, []);\n\n  if (authLoading && getToken()) {\n    return /*#__PURE__*/_jsxDEV(\"section\", { ...containerProps,\n      style: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0\n      },\n      children: [indicatorEl, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (sessionStorage.getItem(\"role\") == \"Admin\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/\",\n                component: Home\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/login\",\n                component: Login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/register\",\n                component: Register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/forgotpassword\",\n                component: ForgotPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/dashboard\",\n                component: Admin_Dashboard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"*\",\n                component: NotFound\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  } else if (sessionStorage.getItem(\"role\") == \"User\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/\",\n                component: Home\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/login\",\n                component: Login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/register\",\n                component: Register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(GoogleRoute, {\n                path: \"/verifyuser\",\n                component: GoogleLogin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/forgotpassword\",\n                component: ForgotPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/home\",\n                component: Dashboard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/setting\",\n                component: Setting\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/bill\",\n                component: Bill\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/senaraibill\",\n                component: SenaraiBil\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/payment\",\n                component: Payment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/add\",\n                component: Add\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"*\",\n                component: NotFound\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/\",\n                component: Home\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/login\",\n                component: Login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/register\",\n                component: Register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/bill\",\n                component: Bill\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n                path: \"/forgotpassword\",\n                component: ForgotPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/admin/dashboard\",\n                component: Admin_Dashboard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                path: \"/home\",\n                component: Dashboard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"*\",\n                component: NotFound\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(App, \"m69bdgk6+n5fA77QtT7kUa4dtWs=\", false, function () {\n  return [useLoading];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","NavLink","PrivateRoute","PublicRoute","GoogleRoute","getToken","getNOKP","getUser","getEmail","removeUserSession","setUserSession","Login","Dashboard","Setting","Bill","Home","Register","ForgotPassword","GoogleLogin","NotFound","SenaraiBil","Payment","Add","Admin_Dashboard","useLoading","Audio","App","authLoading","setAuthLoading","containerProps","indicatorEl","loading","indicator","formdata","FormData","append","requestOptions","method","body","redirect","urlAPI","fetch","then","response","json","result","btoa","data","sessionStorage","setItem","catch","error","console","log","position","top","left","right","bottom","getItem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  NavLink,\n} from \"react-router-dom\";\n\nimport PrivateRoute from \"./Utils/PrivateRoute\";\nimport PublicRoute from \"./Utils/PublicRoute\";\nimport GoogleRoute from \"./Utils/GoogleRoute\";\nimport {\n  getToken,\n  getNOKP,\n  getUser,\n  getEmail,\n  removeUserSession,\n  setUserSession,\n} from \"./Utils/Common\";\n\nimport Login from \"./Login\";\nimport Dashboard from \"./Dashboard\";\nimport Setting from \"./Profile\";\nimport Bill from \"./BayarBill\";\nimport Home from \"./Home\";\nimport Register from \"./Register\";\nimport ForgotPassword from \"./ForgotPassword\";\nimport GoogleLogin from \"./GoogleLogin\";\nimport NotFound from \"./NotFound\";\nimport SenaraiBil from \"./SenaraiBil\";\nimport Payment from \"./Payment\";\nimport Add from \"./Add\";\n\nimport Admin_Dashboard from \"./admin/Dashboard_Admin\";\n\nimport { useLoading, Audio } from \"@agney/react-loading\";\n\n//import \"./main.css\";\n\nfunction App() {\n  const [authLoading, setAuthLoading] = useState(true);\n  const { containerProps, indicatorEl } = useLoading({\n    loading: true,\n    indicator: <Audio width=\"50\" />,\n  });\n\n  useEffect(() => {\n    if (getEmail() && getEmail()) {\n      var formdata = new FormData();\n      formdata.append(\"nokp\", getNOKP());\n      formdata.append(\"email\", getEmail());\n\n      var requestOptions = {\n        method: \"POST\",\n        body: formdata,\n        redirect: \"follow\",\n      };\n\n      var urlAPI =\n        \"https://mymps.corrad.my/int/api_generator.php?api_name=check_session\";\n\n      fetch(urlAPI, requestOptions)\n        .then((response) => response.json())\n        .then((result) => {\n          setUserSession(\n            btoa(result.data[0]),\n            result.data[0][\"MPS_USERNAME\"],\n            result.data[0][\"MPS_USERIC\"],\n            result.data[0][\"MPS_USEREMAIL\"]\n          );\n          sessionStorage.setItem(\"role\", result.data[0][\"MPS_USERROLE\"]);\n          if (result.data[0][\"MPS_USERROLE\"] == \"Admin\") {\n            //window.location.href = \"/admin/dashboard\";\n          }\n          setAuthLoading(false);\n          // window.location.href=\"/home\";\n        })\n        .catch((error) => {\n          console.log(error);\n          removeUserSession();\n          setAuthLoading(false);\n        });\n    }\n  }, []);\n\n  if (authLoading && getToken()) {\n    return (\n      <section\n        {...containerProps}\n        style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0 }}\n      >\n        {indicatorEl} {/* renders only while loading */}\n      </section>\n    );\n  }\n\n  if (sessionStorage.getItem(\"role\") == \"Admin\") {\n    return (\n      <div className=\"App\">\n        <Router>\n          <div>\n            <div className=\"content\">\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <PublicRoute path=\"/login\" component={Login} />\n                <PublicRoute path=\"/register\" component={Register} />\n                <PublicRoute\n                  path=\"/forgotpassword\"\n                  component={ForgotPassword}\n                />\n                <PrivateRoute\n                  path=\"/admin/dashboard\"\n                  component={Admin_Dashboard}\n                />\n                <Route path=\"*\" component={NotFound} />\n              </Switch>\n            </div>\n          </div>\n        </Router>\n      </div>\n    );\n  } else if (sessionStorage.getItem(\"role\") == \"User\") {\n    return (\n      <div className=\"App\">\n        <Router>\n          <div>\n            <div className=\"content\">\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <PublicRoute path=\"/login\" component={Login} />\n                <PublicRoute path=\"/register\" component={Register} />\n                <GoogleRoute path=\"/verifyuser\" component={GoogleLogin} />\n                <PublicRoute\n                  path=\"/forgotpassword\"\n                  component={ForgotPassword}\n                />\n                <PrivateRoute path=\"/home\" component={Dashboard} />\n                <PrivateRoute path=\"/setting\" component={Setting} />\n                <PrivateRoute path=\"/bill\" component={Bill} />\n                <PrivateRoute path=\"/senaraibill\" component={SenaraiBil} />\n                <PrivateRoute path=\"/payment\" component={Payment} />\n                <PrivateRoute path=\"/add\" component={Add} />\n                <Route path=\"*\" component={NotFound} />\n              </Switch>\n            </div>\n          </div>\n        </Router>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"App\">\n        <Router>\n          <div>\n            <div className=\"content\">\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <PublicRoute path=\"/login\" component={Login} />\n                <PublicRoute path=\"/register\" component={Register} />\n                <PrivateRoute path=\"/bill\" component={Bill} />\n                <PublicRoute\n                  path=\"/forgotpassword\"\n                  component={ForgotPassword}\n                />\n                <PrivateRoute\n                  path=\"/admin/dashboard\"\n                  component={Admin_Dashboard}\n                />\n                <PrivateRoute path=\"/home\" component={Dashboard} />\n                <Route path=\"*\" component={NotFound} />\n              </Switch>\n            </div>\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}