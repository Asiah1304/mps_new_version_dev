{"ast":null,"code":"import _objectSpread from\"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import react,{useState}from\"react\";import{setUserSession}from'./Utils/Common';import logo1 from\"./assets/img/logo1.png\";import ReCAPTCHA from\"react-google-recaptcha\";import IndexNavbar from\"./components/Navbars/IndexNavbar2.js\";import Footer from\"./components/Footers/Footer\";import swal from\"sweetalert\";function onChange(value){console.log(\"Captcha value:\",value);}function ForgetPassword(props){var username=useFormInput(\"\");var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var handleForgetPassword=function handleForgetPassword(){setError(null);setLoading(true);if(username.value==\"\"){swal(\"Opss!\",\"Emel tidak boleh dikosongkan.\",\"error\");setLoading(false);}else{var formdata=new FormData();formdata.append(\"username\",username.value);var requestOptions={method:'POST',body:formdata,redirect:'follow'};var urlAPI1='https://mymps.corrad.my/int/api_generator.php?api_name=change_password';fetch(urlAPI1,requestOptions).then(function(response){return response.json();}).then(function(result){setLoading(false);if(result.status==\"unsuccess\"){console.log(result);swal(\"Opss!\",\"Sila pastikan emel anda telah diisi dan sah.\",\"error\");return false;}else if(result.status==\"pending\"){console.log(result);swal(\"Harap Maaf!\",\"Akaun ini mesti menunggu 10 minit sebelum ingin menukar kata laluan yang baru.\",\"error\");return false;}else if(result.status==\"success\"){console.log(result);swal(\"Berjaya\",\"Sila semak emel anda untuk mendapatkan kata laluan yang baharu.\",\"success\");props.history.push(\"/login\");}}).catch(function(error){console.log(error);swal(\"Opss!\",\"Something went wrong. Please contact your administrator!\",\"error\").then(function(value){//props.history.push('/');\n});});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray\",children:[/*#__PURE__*/_jsx(IndexNavbar,{fixed:true}),/*#__PURE__*/_jsx(\"section\",{className:\"py-20 px-5 relative\",style:_defineProperty({background:\"rgb(34,81,122)\"},\"background\",\"linear-gradient(90deg, rgba(34,81,122,1) 0%, rgba(27,147,171,1) 100%)\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center  px-4 sm:px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full\",style:{marginTop:\"-100px\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto w-auto\",src:logo1,alt:\"mymps\",style:{height:\"120px\"}}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-xl leading-9 font-extrabold text-white\",children:\"Set Semula Kata Laluan\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"remember\",value:\"true\"}),/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({\"aria-label\":\"username\"},username),{},{name:\"username\",type:\"username\",required:true,className:\"mb-2 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\",placeholder:\"Alamat emel\"}))})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex items-center justify-between\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return window.location.href=\"/login\";},type:\"button\",className:\"group relative w-1/2 flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-red-600 hover:bg-red-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\",children:\"Kembali\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleForgetPassword,className:\"group relative w-1/2 flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-green-600 hover:bg-green-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\",children:loading?'Memuatkan...':'Hantar'})]})]})]})})}),/*#__PURE__*/_jsx(Footer,{})]});}var useFormInput=function useFormInput(initialValue){var _useState5=useState(initialValue),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var handleChange=function handleChange(e){setValue(e.target.value);};return{value:value,onChange:handleChange};};export default ForgetPassword;","map":{"version":3,"sources":["/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/src/ForgotPassword.js"],"names":["react","useState","setUserSession","logo1","ReCAPTCHA","IndexNavbar","Footer","swal","onChange","value","console","log","ForgetPassword","props","username","useFormInput","error","setError","loading","setLoading","handleForgetPassword","formdata","FormData","append","requestOptions","method","body","redirect","urlAPI1","fetch","then","response","json","result","status","history","push","catch","background","marginTop","height","window","location","href","initialValue","setValue","handleChange","e","target"],"mappings":"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","sourcesContent":["import react, {useState} from \"react\";\nimport { setUserSession } from './Utils/Common';\nimport logo1 from \"./assets/img/logo1.png\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\n\nimport IndexNavbar from \"./components/Navbars/IndexNavbar2.js\";\nimport Footer from \"./components/Footers/Footer\";\nimport swal from \"sweetalert\";\n\nfunction onChange(value) {\n    console.log(\"Captcha value:\", value);\n}\n\nfunction ForgetPassword(props){\n\n    const username = useFormInput(\"\");\n\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    const handleForgetPassword = () => {\n        setError(null);\n        setLoading(true);\n\n        if(username.value == \"\"){\n\n            swal(\"Opss!\", \"Emel tidak boleh dikosongkan.\", \"error\");\n            setLoading(false);\n\n        }else{\n\n            var formdata = new FormData();\n            formdata.append(\"username\", username.value);\n\n            var requestOptions = {\n                method: 'POST',\n                body: formdata,\n                redirect: 'follow'\n            };\n\n            var urlAPI1 = 'https://mymps.corrad.my/int/api_generator.php?api_name=change_password';\n\n            fetch(urlAPI1 , requestOptions)\n            .then(response => response.json())\n            .then(result => {\n\n                setLoading(false);\n\n                if(result.status == \"unsuccess\")\n                {\n                    console.log(result);\n                    swal(\"Opss!\", \"Sila pastikan emel anda telah diisi dan sah.\", \"error\");\n                    return false;\n                }\n                else if(result.status == \"pending\"){\n                    console.log(result);\n                    swal(\"Harap Maaf!\", \"Akaun ini mesti menunggu 10 minit sebelum ingin menukar kata laluan yang baru.\", \"error\");\n                    return false;\n                }\n                else if(result.status == \"success\")\n                {\n                    console.log(result);\n                    swal(\"Berjaya\", \"Sila semak emel anda untuk mendapatkan kata laluan yang baharu.\", \"success\");\n                    props.history.push(\"/login\");\n                }\n\n            })\n            .catch(error => {\n\n                console.log(error);\n                swal(\"Opss!\", \"Something went wrong. Please contact your administrator!\", \"error\")\n                .then((value) => {\n                    //props.history.push('/');\n                })\n\n            });\n        }\n        \n\n    }\n\n    return (\n        <div className=\"bg-gray\">\n            <IndexNavbar fixed />\n        <section className=\"py-20 px-5 relative\" style={{background: \"rgb(34,81,122)\", background: \"linear-gradient(90deg, rgba(34,81,122,1) 0%, rgba(27,147,171,1) 100%)\"}}>\n        <div className=\"min-h-screen flex items-center justify-center  px-4 sm:px-6\">\n            <div className=\"max-w-md w-full\" style={{marginTop: \"-100px\"}}>\n                <div>\n                <img className=\"mx-auto w-auto\" src={logo1} alt=\"mymps\" style={{height: \"120px\"}}/>\n                <h2 className=\"mt-6 text-center text-xl leading-9 font-extrabold text-white\">\n                    Set Semula Kata Laluan\n                </h2>\n                </div>\n                <form className=\"mt-8\">\n                <input type=\"hidden\" name=\"remember\" value=\"true\" />\n                <div className=\"rounded-md shadow-sm\">\n                    <div>\n                    <input aria-label=\"username\" {...username} name=\"username\" type=\"username\" required className=\"mb-2 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\" placeholder=\"Alamat emel\" />\n                    </div>\n                </div>\n\n                \n\n                <div className=\"mt-6 flex items-center justify-between\">\n                    {/* <div className=\"flex items-center\">\n                    <a href=\"/login\" className=\"text-sm text-gray-100 hover:text-gray-200 focus:outline-none focus:underline transition ease-in-out duration-150\">\n                        Log Masuk\n                    </a>\n                    </div>\n\n                    <div className=\"text-sm leading-5\">\n                    <a href=\"/register\" className=\"font-medium text-gray-100 hover:text-gray-200 focus:outline-none focus:underline transition ease-in-out duration-150\">\n                        Daftar Pengguna ?\n                    </a>\n                    </div> */}\n                </div>\n\n                <div className=\"mt-6 flex flex-wrap\">\n                    <button onClick={() => window.location.href = \"/login\"} type=\"button\" className=\"group relative w-1/2 flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-red-600 hover:bg-red-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\">\n                        Kembali\n                    </button>\n                    <button type=\"button\" onClick={handleForgetPassword} className=\"group relative w-1/2 flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-green-600 hover:bg-green-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\">\n                        {loading ? 'Memuatkan...' : 'Hantar'}\n                    </button>\n                </div>\n                </form>\n            </div>\n        </div>\n        </section>\n        <Footer />\n        </div>\n    )\n    \n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n   \n    const handleChange = e => {\n      setValue(e.target.value);\n    }\n    return {\n      value,\n      onChange: handleChange\n    }\n  }\n   \nexport default ForgetPassword;"]},"metadata":{},"sourceType":"module"}