{"ast":null,"code":"import _regeneratorRuntime from\"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import Footer from\"./components/Footers/Footer\";import axios from'axios';import swal from\"sweetalert\";function Pay(){var _useState=useState([{\"CODE\":\"BIMB1234\",\"NAME\":\"BANK ISLAM\"}]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),bankCode=_useState4[0],setBankCode=_useState4[1];var All=[];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://dev.toyyibpay.com/api/getBankFPX').then(function(response){return response.json();}).then(function(result){setData(result);});case 2:case\"end\":return _context.stop();}}},_callee);})),[]);var handleClick=function handleClick(bankcode){console.log(bankcode);setBankCode(bankcode);document.getElementById(\"inputBank\").value=bankcode;};var handleBayar=function handleBayar(){var name=document.getElementById(\"nama\").value;var email=document.getElementById(\"email\").value;var phone=document.getElementById(\"phone\").value;var bank=document.getElementById(\"inputBank\").value;if(name==\"\"){swal(\"Ralat!\",\"Sila lengkapkan maklumat nama pembayar sebelum membuat pembayaran.\",\"error\");}else if(email==\"\"){swal(\"Ralat!\",\"Sila lengkapkan maklumat emel pembayar sebelum membuat pembayaran.\",\"error\");}else if(phone==\"\"){swal(\"Ralat!\",\"Sila lengkapkan maklumat nombor telefon pembayar sebelum membuat pembayaran.\",\"error\");}else if(bank==\"\"){swal(\"Ralat!\",\"Sila membuat pilihan bank sebelum membuat pembayaran.\",\"error\");}else{var formdata=new FormData();formdata.append(\"accountId\",document.getElementById(\"account_no\").value);formdata.append(\"amount\",document.getElementById(\"payment_amount\").value);formdata.append(\"invoiceNo\",document.getElementById(\"payment_ref_no\").value);var requestOptions={method:'POST',body:formdata,redirect:'follow'};var urlAPI1='https://mymps.corrad.my/int/api_generator.php?api_name=register_payment';fetch(urlAPI1,requestOptions).then(function(response){return response.json();}).then(function(result){if(result.status==\"success\"){document.getElementById(\"bayar\").submit();}else{swal(\"Ralat\",\"Sila lengkapkan maklumat pembayar dan pastikan maklumat adalah benar dah sah sebelum mebuat pembayaran cukai.\",\"error\");}});}};//console.log(\"Data : \" + (data[0].NAME));\nfor(var i=0;i<data.length;i++){All.push(/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"bg-gray-300 text-gray-700 text-center mx-center\",style:{padding:\"4px\",margin:\"2px\"},value:data[i].CODE,onClick:function onClick(e){return handleClick(e.target.value);},children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto\",style:{height:\"40px\",width:\"40px\"},src:\"https://dev1.toyyibpay.com/asset/img/logobank/\"+data[i].CODE+\".png\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",data[i].NAME]},i));}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-300 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-screen-xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10\",children:[\"Portal MyMPS\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:\"Laman Pembayaran Bil\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 flex lg:flex-shrink-0 lg:mt-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex rounded-md shadow\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/bill\",className:\"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out\",children:\"Kembali\"})})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 border-b border-gray-200 bg-gray-500 sm:px-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Maklumat Cukai Taksiran\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 max-w-2xl text-sm leading-5 text-white\",children:\"Berikut dibawah merupakan maklumay cukai taksiran yang ingin dibayar.\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500\",children:\"No. Cukai\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\",children:atob(atob(sessionStorage.getItem(\"cukai\")))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500\",children:\"Penama Cukai\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\",children:sessionStorage.getItem('username')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500\",children:\"Jumlah Tunggakan (RM)\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\",children:atob(atob(sessionStorage.getItem(\"amaun\")))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500\",children:\"Status Cukai\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm leading-5 text-red-500 sm:mt-0 sm:col-span-2\",children:\"Tertunggak\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-lg mt-5 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 border-b border-gray-200 bg-gray-500 sm:px-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Maklumat Pembayaran\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 max-w-2xl text-sm leading-5 text-white\",children:\"Anda diminta untuk mengisi maklumat dibawah sebagai pembayar.\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{action:\"\",method:\"post\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500\",children:\"Nama Pembayar\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{value:sessionStorage.getItem(\"username\"),\"aria-label\":\"nama\",name:\"nama\",id:\"nama\",type:\"text\",required:true,className:\"mb-2 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\",placeholder:\"cth: Kassim\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500\",children:\"Emel Pembayar\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{value:sessionStorage.getItem(\"email\"),\"aria-label\":\"emel\",name:\"email\",id:\"email\",type:\"email\",required:true,className:\"mb-2 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\",placeholder:\"cth: admin@gmail.com\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500\",children:\"No. Telefon Bimbit\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{value:sessionStorage.getItem(\"notel\"),\"aria-label\":\"phone\",name:\"phone\",id:\"phone\",type:\"text\",required:true,className:\"mb-2 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\",placeholder:\"cth: 0123456789\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 \",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500 \",children:\"Senarai Bank\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"flex flex-wrap mt-1 text-sm leading-5 text-gray-500 sm:col-span-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-1 grid-cols-2 xl:grid-cols-5\",children:All})}),/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"flex flex-wrap mt-1 text-sm leading-5 text-gray-500 sm:col-span-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"flex flex-wrap mt-5 text-md text-red-500\",children:\"*Sila pastikan semua maklumat lengkap dan betul sebelum membuat pembayaran. Anda akan diubah hala ke halaman bank untuk membuat pembayaran.\"})}),/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm leading-5 font-medium text-gray-500\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"flex flex-wrap mt-1 text-sm leading-5 text-gray-500 sm:col-span-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-white bg-green-500 py-3 px-5 rounded-lg w-full inline-block mt-5\",onClick:function onClick(){return handleBayar();},children:\"Bayar\"})})]})]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{action:\"https://epstaging.mps.gov.my/fpx/sd.php\",method:\"post\",id:\"bayar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"account_no\",id:\"account_no\",value:\"A929739\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"payment_ref_no\",id:\"payment_ref_no\",value:\"MYM\"+Date.now()}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"bank\",id:\"inputBank\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"channel\",id:\"channel\",value:\"01\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"web_return_address\",value:\"https://mymps.corrad.my\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"web_service_return_address\",value:\"https://mymps.corrad.my/int/callback.php\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"payment_amount\",id:\"payment_amount\",value:atob(atob(sessionStorage.getItem(\"amaun\")))}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"payment_description\",value:\"Cukai Taksiran \"+atob(atob(sessionStorage.getItem(\"cukai\")))}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"email\",value:sessionStorage.getItem(\"email\")})]})})]}),/*#__PURE__*/_jsx(Footer,{className:\"p-0 mt-2\"})]});}export default Pay;","map":{"version":3,"sources":["/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/src/Payment.js"],"names":["React","useState","useEffect","Footer","axios","swal","Pay","data","setData","bankCode","setBankCode","All","fetch","then","response","json","result","handleClick","bankcode","console","log","document","getElementById","value","handleBayar","name","email","phone","bank","formdata","FormData","append","requestOptions","method","body","redirect","urlAPI1","status","submit","i","length","push","padding","margin","CODE","e","target","height","width","NAME","atob","sessionStorage","getItem","Date","now"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport Footer from \"./components/Footers/Footer\";\nimport axios from 'axios';\nimport swal from \"sweetalert\";\n\n\nfunction Pay(){\n\n    const [data, setData] = useState([{\"CODE\":\"BIMB1234\",\"NAME\":\"BANK ISLAM\"}]);\n    const [bankCode, setBankCode] = useState(\"\");\n\n    var All = [];\n\n    useEffect(async () => {\n\n        await fetch('https://dev.toyyibpay.com/api/getBankFPX')\n        .then(response => response.json())\n        .then(result => {\n            setData(result);\n        })\n    }, [])\n\n    const handleClick = (bankcode) => {\n        console.log(bankcode);\n        setBankCode(bankcode);\n        document.getElementById(\"inputBank\").value = bankcode;\n    }\n\n    const handleBayar = () => {\n        var name = document.getElementById(\"nama\").value;\n        var email = document.getElementById(\"email\").value;\n        var phone = document.getElementById(\"phone\").value;\n        var bank = document.getElementById(\"inputBank\").value;\n\n        if(name == \"\"){\n            swal(\"Ralat!\", \"Sila lengkapkan maklumat nama pembayar sebelum membuat pembayaran.\",\"error\");\n        }else if(email == \"\"){\n            swal(\"Ralat!\", \"Sila lengkapkan maklumat emel pembayar sebelum membuat pembayaran.\",\"error\");\n        }else if(phone == \"\"){\n            swal(\"Ralat!\", \"Sila lengkapkan maklumat nombor telefon pembayar sebelum membuat pembayaran.\",\"error\");\n        }else if(bank == \"\"){\n            swal(\"Ralat!\", \"Sila membuat pilihan bank sebelum membuat pembayaran.\",\"error\");\n        }else{\n\n            var formdata = new FormData();\n            formdata.append(\"accountId\", document.getElementById(\"account_no\").value);\n            formdata.append(\"amount\", document.getElementById(\"payment_amount\").value);\n            formdata.append(\"invoiceNo\", document.getElementById(\"payment_ref_no\").value);\n\n            var requestOptions = {\n                method: 'POST',\n                body: formdata,\n                redirect: 'follow'\n            };\n\n            var urlAPI1 = 'https://mymps.corrad.my/int/api_generator.php?api_name=register_payment';\n\n            fetch(urlAPI1 , requestOptions)\n            .then(response => response.json())\n            .then(result => {\n                if(result.status == \"success\"){\n                    document.getElementById(\"bayar\").submit();\n                }else{\n                    swal(\"Ralat\", \"Sila lengkapkan maklumat pembayar dan pastikan maklumat adalah benar dah sah sebelum mebuat pembayaran cukai.\",\"error\");\n                }\n            })\n                \n        }\n        \n    }\n\n    //console.log(\"Data : \" + (data[0].NAME));\n    for(var i = 0; i < data.length; i++){\n        All.push(<button type=\"button\" key={i} className=\"bg-gray-300 text-gray-700 text-center mx-center\" style={{padding:\"4px\", margin:\"2px\"}} value={data[i].CODE} onClick={ e => handleClick(e.target.value)}>\n            <img className=\"mx-auto\" style={{height:\"40px\", width:\"40px\"}} src={\"https://dev1.toyyibpay.com/asset/img/logobank/\"+data[i].CODE+\".png\"} /> <br /> {data[i].NAME}</button>);\n    }\n\n    return (\n        <div className=\"p-4\">\n            <div className=\"bg-gray-300 rounded-lg\">\n                <div className=\"max-w-screen-xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between\">\n                    <h2 className=\"text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10\">\n                    Portal MyMPS\n                    <br />\n                    <span className=\"text-blue-600\">Laman Pembayaran Bil</span>\n                    </h2>\n                    <div className=\"mt-8 flex lg:flex-shrink-0 lg:mt-0\">\n                    <div className=\"inline-flex rounded-md shadow\">\n                        <a href=\"/bill\" className=\"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out\">\n                        Kembali\n                        </a>\n                    </div>\n                    </div>\n                </div>\n            </div>\n            <br />\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n                <div className=\"px-4 py-5 border-b border-gray-200 bg-gray-500 sm:px-6\">\n                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                    Maklumat Cukai Taksiran\n                    </h3>\n                    <p className=\"mt-1 max-w-2xl text-sm leading-5 text-white\">\n                    Berikut dibawah merupakan maklumay cukai taksiran yang ingin dibayar.\n                    </p>\n                </div>\n                <div>\n                    <dl>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500\">\n                        No. Cukai\n                        </dt>\n                        <dd className=\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {atob(atob(sessionStorage.getItem(\"cukai\")))}\n                        </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500\">\n                        Penama Cukai\n                        </dt>\n                        <dd className=\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {sessionStorage.getItem('username')}\n                        </dd>\n                    </div>\n                    <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500\">\n                        Jumlah Tunggakan (RM)\n                        </dt>\n                        <dd className=\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {atob(atob(sessionStorage.getItem(\"amaun\")))}\n                        </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500\">\n                        Status Cukai\n                        </dt>\n                        <dd className=\"mt-1 text-sm leading-5 text-red-500 sm:mt-0 sm:col-span-2\">\n                        Tertunggak\n                        </dd>\n                    </div>\n                    </dl>\n                </div>\n            </div>\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg mt-5 mb-3\">\n                <div className=\"px-4 py-5 border-b border-gray-200 bg-gray-500 sm:px-6\">\n                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                    Maklumat Pembayaran\n                    </h3>\n                    <p className=\"mt-1 max-w-2xl text-sm leading-5 text-white\">\n                    Anda diminta untuk mengisi maklumat dibawah sebagai pembayar.\n                    </p>\n                </div>\n                <div>\n                    <form action=\"\" method=\"post\">\n                    <dl>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500\">\n                        Nama Pembayar\n                        </dt>\n                        <dd className=\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\">\n                        <div>\n                            <input value={sessionStorage.getItem(\"username\")} aria-label=\"nama\" name=\"nama\" id=\"nama\" type=\"text\" required className=\"mb-2 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\" placeholder=\"cth: Kassim\" />\n                        </div>\n                        </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500\">\n                        Emel Pembayar\n                        </dt>\n                        <dd className=\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\">\n                        <div>\n                            <input value={sessionStorage.getItem(\"email\")} aria-label=\"emel\"  name=\"email\" id=\"email\" type=\"email\" required className=\"mb-2 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\" placeholder=\"cth: admin@gmail.com\" />\n                        </div>\n                        </dd>\n                    </div>\n                    <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500\">\n                        No. Telefon Bimbit\n                        </dt>\n                        <dd className=\"mt-1 text-sm leading-5 text-gray-900 sm:mt-0 sm:col-span-2\">\n                        <div>\n                            <input value={sessionStorage.getItem(\"notel\")} aria-label=\"phone\" name=\"phone\" id=\"phone\" type=\"text\" required className=\"mb-2 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\" placeholder=\"cth: 0123456789\" />\n                        </div>\n                        </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 \">\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500 \">\n                        Senarai Bank\n                        </dt>\n                        <dd className=\"flex flex-wrap mt-1 text-sm leading-5 text-gray-500 sm:col-span-2\">\n                            <div className=\"grid gap-1 grid-cols-2 xl:grid-cols-5\">\n                                {All}\n                            </div>\n                        </dd>\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500\">\n                        \n                        </dt>\n\n                        <dd className=\"flex flex-wrap mt-1 text-sm leading-5 text-gray-500 sm:col-span-2\">\n                            <p className=\"flex flex-wrap mt-5 text-md text-red-500\">*Sila pastikan semua maklumat lengkap dan betul sebelum membuat pembayaran. Anda akan diubah hala ke halaman bank untuk membuat pembayaran.</p>\n                        </dd>\n                        <dt className=\"text-sm leading-5 font-medium text-gray-500\">\n                        \n                        </dt>\n\n                        <dd className=\"flex flex-wrap mt-1 text-sm leading-5 text-gray-500 sm:col-span-2\">\n                            <button type=\"button\" className=\"text-white bg-green-500 py-3 px-5 rounded-lg w-full inline-block mt-5\" onClick={() => handleBayar()}>Bayar</button>\n                        </dd>\n                    </div>\n                    </dl>\n                    </form>\n                </div>\n                \n                <div>\n                    <form action=\"https://epstaging.mps.gov.my/fpx/sd.php\" method=\"post\" id=\"bayar\">\n                        <input type=\"hidden\" name=\"account_no\" id=\"account_no\" value=\"A929739\" />\n                        <input type=\"hidden\" name=\"payment_ref_no\" id=\"payment_ref_no\" value={\"MYM\"+Date.now()}/>\n                        <input type=\"hidden\" name=\"bank\" id=\"inputBank\"/>\n                        <input type=\"hidden\" name=\"channel\" id=\"channel\" value=\"01\"/>\n                        <input type=\"hidden\" name=\"web_return_address\" value=\"https://mymps.corrad.my\"/>\n                        <input type=\"hidden\" name=\"web_service_return_address\" value=\"https://mymps.corrad.my/int/callback.php\"/>\n                        <input type=\"hidden\" name=\"payment_amount\" id=\"payment_amount\" value={atob(atob(sessionStorage.getItem(\"amaun\")))}/>\n                        <input type=\"hidden\" name=\"payment_description\" value={\"Cukai Taksiran \" + atob(atob(sessionStorage.getItem(\"cukai\")))}/>\n                        <input type=\"hidden\" name=\"email\" value={sessionStorage.getItem(\"email\")}/>\n                    </form>\n                </div>\n            </div>\n\n            <Footer className=\"p-0 mt-2\"/>\n        </div>\n    );\n}\n\nexport default Pay;"]},"metadata":{},"sourceType":"module"}