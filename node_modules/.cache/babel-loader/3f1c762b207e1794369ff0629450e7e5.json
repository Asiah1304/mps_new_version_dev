{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\mps_new_version_dev\\\\src\\\\components\\\\Cards\\\\CardSettings.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Pane, Button, Heading, TextInputField, Text } from \"evergreen-ui\";\nimport swal from \"sweetalert\"; // components\n\nconst useFormInput = initialValue => {\n  _s();\n\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\n_s(useFormInput, \"L08zUdRTae9t+nWvf9xbU6NcRrM=\");\n\nexport default function CardSettings({\n  nama = \"\",\n  nokp = \"\",\n  email = \"\",\n  notel = \"\",\n  color = \"blue\"\n}) {\n  _s2();\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [namapenuh, setUsername] = useState(nama);\n  const [kadpengenalan, setIC] = useState(nokp);\n  const [emel, setEmail] = useState(email);\n  const [telefon, setTelephone] = useState(notel);\n  const [password, setPassword] = useState(\"\");\n  const [new_password, setNewPassword] = useState(\"\");\n  const [conf_password, setConformPassword] = useState(\"\");\n  const [openTab, setOpenTab] = useState(1);\n\n  const handleUpdate = () => {\n    if (namapenuh == \"\") {\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\", \"error\");\n      return false;\n    } else if (emel == \"\") {\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else if (telefon == \"\") {\n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\", \"error\");\n      return false;\n    } else {\n      var formdata = new FormData();\n      formdata.append(\"username\", namapenuh.trim());\n      formdata.append(\"email\", emel.trim());\n      formdata.append(\"nokp\", kadpengenalan);\n      formdata.append(\"notel\", telefon.trim());\n      var requestOptions = {\n        method: 'POST',\n        body: formdata,\n        redirect: 'follow'\n      };\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\n      fetch(urlAPI, requestOptions).then(response => response.json()).then(result => {\n        if (result.status == \"success\") {\n          setLoading(\"false\");\n          swal(\"Berjaya!\", \"Akaun profil anda sudah dikemaskini.\", \"success\");\n          sessionStorage.removeItem('username');\n          sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\n          sessionStorage.removeItem('email');\n          sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\n          window.location.href = \"./setting\";\n        } else {\n          setLoading(\"false\");\n          swal(\"Ralat!\", \"Kemaskini tidak berjaya.\", \"error\");\n        }\n      });\n    }\n  };\n\n  const handleChangePassword = () => {\n    if (password == \"\") {\n      swal(\"Opss\", \"Sila isi kata laluan terkini.\", \"error\");\n    } else if (new_password == \"\") {\n      swal(\"Opss\", \"Sila isi kata laluan yang baru.\", \"error\");\n    } else if (conf_password == \"\") {\n      swal(\"Opss\", \"Sila isi pengesahan kata laluan yang baru.\", \"error\");\n    } else if (new_password !== conf_password) {\n      swal(\"Opss\", \"Kata laluan anda tidak sah\", \"error\");\n    } else {\n      console.log(password);\n      console.log(new_password);\n      console.log(conf_password);\n      swal({\n        title: \"Set Semula Kata Laluan\",\n        text: \"Anda pasti untuk set semula kata laluan akaun anda?\",\n        button: true,\n        dangerMode: true\n      }).then(change => {\n        if (change) {\n          swal(\"Kata laluan akaun anda sudah dikemaskini!\");\n        } else {}\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row justify-center\",\n        role: \"tablist\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"-mb-px mr-2 last:mr-0 flex-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" + (openTab === 1 ? \"text-white bg-\" + color + \"-600\" : \"text-\" + color + \"-600 bg-white\"),\n            onClick: e => {\n              e.preventDefault();\n              setOpenTab(1);\n            },\n            \"data-toggle\": \"tab\",\n            href: \"#link1\",\n            role: \"tablist\",\n            children: \"Profil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"-mb-px mr-2 last:mr-0 flex-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" + (openTab === 2 ? \"text-white bg-\" + color + \"-600\" : \"text-\" + color + \"-600 bg-white\"),\n            onClick: e => {\n              e.preventDefault();\n              setOpenTab(2);\n            },\n            \"data-toggle\": \"tab\",\n            href: \"#link2\",\n            role: \"tablist\",\n            children: \"Kata Laluan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 flex-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tab-content tab-space\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: openTab === 1 ? \"block\" : \"hidden\",\n              id: \"link1\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 10,\n                  background: \"#dfe6e9\",\n                  borderRadius: 5,\n                  children: /*#__PURE__*/_jsxDEV(Pane, {\n                    flex: 1,\n                    alignItems: \"center\",\n                    display: \"flex\",\n                    children: /*#__PURE__*/_jsxDEV(Text, {\n                      size: 600,\n                      children: \"Profil Akaun myMPS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 3,\n                  background: \"tint3\",\n                  borderRadius: 3,\n                  marginTop: \"30px\",\n                  children: /*#__PURE__*/_jsxDEV(Pane, {\n                    flex: 1,\n                    alignItems: \"center\",\n                    children: [/*#__PURE__*/_jsxDEV(TextInputField, {\n                      label: \"NAMA PENUH\",\n                      width: \"100%\",\n                      placeholder: \"Sila isi nama penuh anda\",\n                      required: true,\n                      defaultValue: namapenuh,\n                      onChange: e => setUsername(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TextInputField, {\n                      label: \"NOMBOR KAD PENGENALAN\",\n                      width: \"100%\",\n                      placeholder: \"Sila isi nombor kad pengenalan anda\",\n                      required: true,\n                      disabled: true,\n                      defaultValue: kadpengenalan\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TextInputField, {\n                      label: \"ALAMAT EMEL\",\n                      width: \"100%\",\n                      placeholder: \"Sila isi alamat emel anda\",\n                      required: true,\n                      defaultValue: emel,\n                      onChange: e => setEmail(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TextInputField, {\n                      label: \"NOMBOR TELEFON\",\n                      width: \"100%\",\n                      placeholder: \"Sila isi nombor telefon anda\",\n                      required: true,\n                      defaultValue: telefon,\n                      onChange: e => setTelephone(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Pane, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"float-right\",\n                    appearance: \"primary\",\n                    intent: \"success\",\n                    type: \"button\",\n                    onClick: handleUpdate,\n                    children: \"Kemaskini\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: openTab === 2 ? \"block\" : \"hidden\",\n              id: \"link2\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 10,\n                  background: \"#dfe6e9\",\n                  borderRadius: 5,\n                  children: /*#__PURE__*/_jsxDEV(Pane, {\n                    flex: 1,\n                    alignItems: \"center\",\n                    display: \"flex\",\n                    children: /*#__PURE__*/_jsxDEV(Text, {\n                      size: 600,\n                      children: \"Set Kata Laluan\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Pane, {\n                  display: \"flex\",\n                  padding: 16,\n                  background: \"tint3\",\n                  borderRadius: 3,\n                  children: [/*#__PURE__*/_jsxDEV(TextInputField, {\n                    label: \"KATA LALUAN TERKINI\",\n                    width: \"100%\",\n                    placeholder: \"Sila isi kata laluan terkini\",\n                    required: true,\n                    onChange: e => setPassword(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TextInputField, {\n                    label: \"KATA LALUAN BARU\",\n                    width: \"100%\",\n                    placeholder: \"Sila isi kata laluan baru\",\n                    required: true,\n                    onChange: e => setNewPassword(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TextInputField, {\n                    label: \"SAH KATA LALUAN BARU\",\n                    width: \"100%\",\n                    placeholder: \"Sila sahkan kata laluan baru\",\n                    required: true,\n                    onChange: e => setConformPassword(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s2(CardSettings, \"m3AmlQmNj1CNREsL/GZsNDVr2bU=\");\n\n_c = CardSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardSettings\");","map":{"version":3,"sources":["C:/Users/Admin/mps_new_version_dev/src/components/Cards/CardSettings.js"],"names":["React","useState","Pane","Button","Heading","TextInputField","Text","swal","useFormInput","initialValue","value","setValue","handleChange","e","target","onChange","CardSettings","nama","nokp","email","notel","color","error","setError","loading","setLoading","namapenuh","setUsername","kadpengenalan","setIC","emel","setEmail","telefon","setTelephone","password","setPassword","new_password","setNewPassword","conf_password","setConformPassword","openTab","setOpenTab","handleUpdate","formdata","FormData","append","trim","requestOptions","method","body","redirect","urlAPI","fetch","then","response","json","result","status","sessionStorage","removeItem","setItem","data","window","location","href","handleChangePassword","console","log","title","text","button","dangerMode","change","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Pane, Button, Heading, TextInputField, Text } from \"evergreen-ui\";\r\nimport swal from \"sweetalert\";\r\n\r\n// components\r\n\r\nconst useFormInput = (initialValue) => {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const handleChange = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n  return {\r\n    value,\r\n    onChange: handleChange,\r\n  };\r\n};\r\n\r\nexport default function CardSettings({ \r\n  nama = \"\",\r\n  nokp = \"\",\r\n  email = \"\",\r\n  notel = \"\",\r\n  color = \"blue\",\r\n}) {\r\n\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [namapenuh, setUsername] = useState(nama);\r\n  const [kadpengenalan, setIC] = useState(nokp);\r\n  const [emel, setEmail] = useState(email);\r\n  const [telefon, setTelephone] = useState(notel);           \r\n  const [password, setPassword] = useState(\"\");\r\n  const [new_password, setNewPassword] = useState(\"\");\r\n  const [conf_password, setConformPassword] = useState(\"\");\r\n  const [openTab, setOpenTab] = useState(1);\r\n\r\n  const handleUpdate = () => {\r\n\r\n    if (namapenuh == \"\") {\r\n      swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\", \"error\");\r\n      return false;\r\n    }\r\n    else if (emel == \"\") {\r\n      swal(\"Opss!\", \"Emel tidak boleh dikosongkan\", \"error\");\r\n      return false;\r\n    }\r\n    else if (telefon == \"\") {\r\n      swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\", \"error\");\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      var formdata = new FormData();\r\n\r\n      formdata.append(\"username\", namapenuh.trim());\r\n      formdata.append(\"email\", emel.trim());\r\n      formdata.append(\"nokp\", kadpengenalan);\r\n      formdata.append(\"notel\", telefon.trim());\r\n\r\n      var requestOptions = {\r\n        method: 'POST',\r\n        body: formdata,\r\n        redirect: 'follow'\r\n      };\r\n\r\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\r\n\r\n      fetch(urlAPI, requestOptions)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n\r\n          if (result.status == \"success\") {\r\n\r\n            setLoading(\"false\");\r\n            swal(\"Berjaya!\", \"Akaun profil anda sudah dikemaskini.\", \"success\");\r\n\r\n            sessionStorage.removeItem('username');\r\n            sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\r\n\r\n            sessionStorage.removeItem('email');\r\n            sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\r\n\r\n            window.location.href = \"./setting\";\r\n\r\n          }\r\n          else {\r\n            setLoading(\"false\");\r\n            swal(\"Ralat!\", \"Kemaskini tidak berjaya.\", \"error\");\r\n          }\r\n\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleChangePassword = () => {\r\n\r\n    if (password == \"\") {\r\n      swal(\"Opss\", \"Sila isi kata laluan terkini.\", \"error\");\r\n    } else if (new_password == \"\") {\r\n      swal(\"Opss\", \"Sila isi kata laluan yang baru.\", \"error\")\r\n    } else if (conf_password == \"\") {\r\n      swal(\"Opss\", \"Sila isi pengesahan kata laluan yang baru.\", \"error\")\r\n    } else if (new_password !== conf_password) {\r\n      swal(\"Opss\", \"Kata laluan anda tidak sah\", \"error\")\r\n    } else {\r\n\r\n      console.log(password);\r\n      console.log(new_password);\r\n      console.log(conf_password);\r\n      swal({\r\n        title: \"Set Semula Kata Laluan\",\r\n        text: \"Anda pasti untuk set semula kata laluan akaun anda?\",\r\n        button: true,\r\n        dangerMode: true,\r\n      }).then((change) => {\r\n        if (change) {\r\n          swal(\"Kata laluan akaun anda sudah dikemaskini!\");\r\n        } else {\r\n\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n      <div className=\"w-full\">\r\n        <ul className=\"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row justify-center\" role=\"tablist\">\r\n          <li className=\"-mb-px mr-2 last:mr-0 flex-auto text-center\">\r\n            <a\r\n              className={\r\n                \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" +\r\n                (openTab === 1\r\n                  ? \"text-white bg-\" + color + \"-600\"\r\n                  : \"text-\" + color + \"-600 bg-white\")\r\n              }\r\n              onClick={e => {\r\n                e.preventDefault();\r\n                setOpenTab(1);\r\n              }}\r\n              data-toggle=\"tab\"\r\n              href=\"#link1\"\r\n              role=\"tablist\"\r\n            >\r\n              Profil\r\n              </a>\r\n          </li>\r\n          <li className=\"-mb-px mr-2 last:mr-0 flex-auto text-center\">\r\n            <a\r\n              className={\r\n                \"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal \" +\r\n                (openTab === 2\r\n                  ? \"text-white bg-\" + color + \"-600\"\r\n                  : \"text-\" + color + \"-600 bg-white\")\r\n              }\r\n              onClick={e => {\r\n                e.preventDefault();\r\n                setOpenTab(2);\r\n              }}\r\n              data-toggle=\"tab\"\r\n              href=\"#link2\"\r\n              role=\"tablist\"\r\n            >\r\n              Kata Laluan\r\n              </a>\r\n          </li>\r\n        </ul>\r\n\r\n        <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n            <div className=\"px-4 py-5 flex-auto\">\r\n              <div className=\"tab-content tab-space\">\r\n                <div className={openTab === 1 ? \"block\" : \"hidden\"} id=\"link1\">\r\n                  <p>\r\n                  <Pane display=\"flex\" padding={10} background=\"#dfe6e9\" borderRadius={5}>\r\n                    <Pane flex={1} alignItems=\"center\" display=\"flex\">\r\n                      <Text size={600}>Profil Akaun myMPS</Text>\r\n                    </Pane>\r\n                  </Pane>\r\n\r\n                  <Pane display=\"flex\" padding={3} background=\"tint3\" borderRadius={3} marginTop=\"30px\">\r\n                    <Pane flex={1} alignItems=\"center\">\r\n                      <TextInputField\r\n                        label=\"NAMA PENUH\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi nama penuh anda\"\r\n                        required={true}\r\n                        defaultValue={namapenuh}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                      />\r\n\r\n                      <TextInputField\r\n                        label=\"NOMBOR KAD PENGENALAN\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi nombor kad pengenalan anda\"\r\n                        required={true}\r\n                        disabled\r\n                        defaultValue={kadpengenalan}\r\n                      />\r\n\r\n                      <TextInputField\r\n                        label=\"ALAMAT EMEL\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi alamat emel anda\"\r\n                        required={true}\r\n                        defaultValue={emel}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                      />\r\n\r\n                      <TextInputField\r\n                        label=\"NOMBOR TELEFON\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi nombor telefon anda\"\r\n                        required={true}\r\n                        defaultValue={telefon}\r\n                        onChange={(e) => setTelephone(e.target.value)}\r\n                      />\r\n                    </Pane>\r\n                  </Pane>\r\n                  <Pane>\r\n                    <Button\r\n                      className=\"float-right\"\r\n                      appearance=\"primary\"\r\n                      intent=\"success\"\r\n                      type=\"button\"\r\n                      onClick={handleUpdate}\r\n                    >\r\n                      Kemaskini\r\n                    </Button>\r\n                  </Pane>\r\n                  </p>\r\n                </div>\r\n                <div className={openTab === 2 ? \"block\" : \"hidden\"} id=\"link2\">\r\n                  <p>\r\n                  <Pane display=\"flex\" padding={10} background=\"#dfe6e9\" borderRadius={5}>\r\n                    <Pane flex={1} alignItems=\"center\" display=\"flex\">\r\n                      <Text size={600}>Set Kata Laluan</Text>\r\n                    </Pane>\r\n                  </Pane>\r\n\r\n                  <Pane display=\"flex\" padding={16} background=\"tint3\" borderRadius={3}>\r\n                      <TextInputField\r\n                        label=\"KATA LALUAN TERKINI\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi kata laluan terkini\"\r\n                        required={true}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                      />\r\n\r\n                      <TextInputField\r\n                        label=\"KATA LALUAN BARU\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila isi kata laluan baru\"\r\n                        required={true}\r\n                        onChange={(e) => setNewPassword(e.target.value)}\r\n                      />\r\n\r\n                      <TextInputField\r\n                        label=\"SAH KATA LALUAN BARU\"\r\n                        width=\"100%\"\r\n                        placeholder=\"Sila sahkan kata laluan baru\"\r\n                        required={true}\r\n                        onChange={(e) => setConformPassword(e.target.value)}\r\n                      />\r\n                  </Pane>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}