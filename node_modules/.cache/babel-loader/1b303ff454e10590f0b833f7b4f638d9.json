{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Admin/mps_new_version_dev/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import Axios from\"axios\";import React,{useState,useEffect}from\"react\";import swal from\"sweetalert\";import Sidebar from\"../admin/Sidebar_Admin\";import Navbar from\"../components/Navbars/AdminNavbar\";import Footer from\"../components/Footers/Footer\";import{get}from\"jquery\";// components\n// const useFormInput = (initialValue) => {\n//   const [value, setValue] = useState(initialValue);\n//   const handleChange = (e) => {\n//     setValue(e.target.value);\n//   };\n//   return {\n//     value,\n//     onChange: handleChange,\n//   };\n// };\nexport default function CardSettings(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),users=_useState6[0],setUsers=_useState6[1];useEffect(function(){console.log(sessionStorage.user);console.log(atob(sessionStorage.user));var formData=new FormData();formData.append(\"nokp\",atob(sessionStorage.user));var fetchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return Axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=get_user',formData).then(function(response){// setUsers(response.data.data);\nif(response.data.status==='success'){setUsers(response.data.data[0]);// console.log(users);\nconsole.log('Response',response);console.log('Users :',users);}else{swal('Masaalah Teknikal','Hubungi pentadbir system','error');window.location.href='./usermanagement';}setLoading(false);});case 3:res=_context.sent;case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchUser(){return _ref.apply(this,arguments);};}();fetchUser();// console.log('Users :',users);\n},[]);var handleDelete=function handleDelete(){console.log('delete');};var handleUpdate=function handleUpdate(){// var username  = document.getElementById(\"username\").value;\n// var email     = document.getElementById(\"email\").value;\n// var notel     = document.getElementById(\"notel\").value;\n// const username = useFormInput(\"\");\n// const email = useFormInput(\"\");\n// const notel = useFormInput(\"\");\n// const status = useFormInput(\"\");\nvar username=document.getElementById(\"username\").value;var email=document.getElementById(\"email\").value;var notel=document.getElementById(\"notel\").value;var status=document.getElementById(\"status\").value;if(username==\"\"){swal(\"Opss!\",\"Kata nama tidak boleh dikosongkan.\",\"error\");return false;}else if(email==\"\"){swal(\"Opss!\",\"Emel tidak boleh dikosongkan\",\"error\");return false;}else if(notel==\"\"){swal(\"Opss!\",\"Nombor telefon tidak boleh dikosongkan\",\"error\");return false;}else{var formdata=new FormData();// formdata.append(\"username\", username.trim());\n// formdata.append(\"email\", email.trim());\n// formdata.append(\"nokp\", user);\n// formdata.append(\"notel\", notel.trim());\nvar requestOptions={method:'POST',body:formdata,redirect:'follow'};var urlAPI=\"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";fetch(urlAPI,requestOptions).then(function(response){return response.json();}).then(function(result){if(result.status==\"success\"){setLoading(\"false\");swal(\"Berjaya!\",\"Akaun profil anda sudah dikemaskini.\",\"success\");sessionStorage.removeItem('username');sessionStorage.setItem('username',result.data[0][\"U_USERNAME\"]);sessionStorage.removeItem('email');sessionStorage.setItem('email',result.data[0]['U_USEREMAIL']);window.location.href=\"./admin/usermanagement\";}else{setLoading(\"false\");swal(\"Ralat!\",\"Kemaskini tidak berjaya.\",\"error\");}});}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative md:ml-64 bg-blue-400\",style:{height:\"100%\"},children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"relative bg-blue-600 md:pt-32 pb-16 pt-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 md:px-10 mx-auto w-full\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg  bg-gray-300 border-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-t bg-white mb-0 px-6 py-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center flex justify-between\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"text-gray-800 text-xl font-bold\",children:\"Akaun mymps\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-auto px-4 lg:px-10 py-10 pt-0\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-6/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"Nama Penuh\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",defaultValue:users.U_USERNAME})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-6/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"NOMBOR KAD PENGENALAN\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,className:\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",defaultValue:users.U_USERIC})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-6/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"Alamat Emel\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",defaultValue:users.U_USEREMAIL})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-6/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"NOMBOR TELEFON\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"notel\",className:\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",defaultValue:users.U_USERPHONE})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-6/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:\"Status\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"status\",className:\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",defaultValue:users.U_USERSTATUS})]})})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"mt-6 border-b-1 border-gray-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-12/12 px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full mb-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleUpdate,className:\"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\",children:\"Kemaskini\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-12/12 px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full mb-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleDelete,className:\"bg-red-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\",children:\"Padam\"})})})})]})})]})})})})}),/*#__PURE__*/_jsx(Footer,{})]})]});}","map":{"version":3,"sources":["C:/Users/Admin/mps_new_version_dev/src/admin/UpdateUser_Admin.js"],"names":["Axios","React","useState","useEffect","swal","Sidebar","Navbar","Footer","get","CardSettings","error","setError","loading","setLoading","users","setUsers","console","log","sessionStorage","user","atob","formData","FormData","append","fetchUser","post","then","response","data","status","window","location","href","res","handleDelete","handleUpdate","username","document","getElementById","value","email","notel","formdata","requestOptions","method","body","redirect","urlAPI","fetch","json","result","removeItem","setItem","height","U_USERNAME","U_USERIC","U_USEREMAIL","U_USERPHONE","U_USERSTATUS"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\r\nimport React, {useState, useEffect} from \"react\";\r\nimport swal from \"sweetalert\";\r\nimport Sidebar from \"../admin/Sidebar_Admin\";\r\nimport Navbar from \"../components/Navbars/AdminNavbar\";\r\nimport Footer from \"../components/Footers/Footer\";\r\nimport { get } from \"jquery\";\r\n// components\r\n\r\n// const useFormInput = (initialValue) => {\r\n//   const [value, setValue] = useState(initialValue);\r\n\r\n//   const handleChange = (e) => {\r\n//     setValue(e.target.value);\r\n//   };\r\n//   return {\r\n//     value,\r\n//     onChange: handleChange,\r\n//   };\r\n// };\r\n\r\nexport default function CardSettings() {\r\n\r\n    const [error, setError] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [users,setUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        console.log(sessionStorage.user);\r\n        console.log(atob(sessionStorage.user));\r\n        let formData = new FormData();\r\n        formData.append(\"nokp\",atob(sessionStorage.user));\r\n        const fetchUser = async () =>{\r\n            setLoading(true);\r\n            const res = await Axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=get_user',formData)\r\n            .then(response => {\r\n                // setUsers(response.data.data);\r\n                if(response.data.status === 'success'){\r\n                    setUsers(response.data.data[0]);\r\n                    // console.log(users);\r\n                    console.log('Response',response);\r\n                    console.log('Users :',users);\r\n                }else{\r\n                    swal('Masaalah Teknikal','Hubungi pentadbir system','error');\r\n                    window.location.href = './usermanagement';\r\n                }\r\n                setLoading(false);\r\n            })\r\n            \r\n            \r\n\r\n        }\r\n        fetchUser();\r\n        // console.log('Users :',users);\r\n    },[]);\r\n\r\n    const handleDelete = () => {\r\n        console.log('delete');\r\n    }\r\n    const handleUpdate = () => {\r\n\r\n        // var username  = document.getElementById(\"username\").value;\r\n        // var email     = document.getElementById(\"email\").value;\r\n        // var notel     = document.getElementById(\"notel\").value;\r\n\r\n        // const username = useFormInput(\"\");\r\n        // const email = useFormInput(\"\");\r\n        // const notel = useFormInput(\"\");\r\n        // const status = useFormInput(\"\");\r\n        const username = document.getElementById(\"username\").value;\r\n        const email = document.getElementById(\"email\").value;\r\n        const notel = document.getElementById(\"notel\").value\r\n        const status = document.getElementById(\"status\").value\r\n    \r\n        if(username == \"\")\r\n        {\r\n          swal(\"Opss!\", \"Kata nama tidak boleh dikosongkan.\",\"error\");\r\n          return false;\r\n        }\r\n        else if(email == \"\")\r\n        {\r\n          swal(\"Opss!\", \"Emel tidak boleh dikosongkan\",\"error\");\r\n          return false;\r\n        }\r\n        else if(notel == \"\")\r\n        { \r\n          swal(\"Opss!\", \"Nombor telefon tidak boleh dikosongkan\",\"error\");\r\n          return false;\r\n        }\r\n        else\r\n        {\r\n    \r\n          var formdata = new FormData();\r\n    \r\n            // formdata.append(\"username\", username.trim());\r\n            // formdata.append(\"email\", email.trim());\r\n            // formdata.append(\"nokp\", user);\r\n            // formdata.append(\"notel\", notel.trim());\r\n    \r\n            var requestOptions = {\r\n            method: 'POST',\r\n            body: formdata,\r\n            redirect: 'follow'\r\n            };\r\n    \r\n            var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=update_profile\";\r\n    \r\n            fetch(urlAPI, requestOptions)\r\n            .then(response => response.json())\r\n            .then(result => {\r\n    \r\n              if(result.status == \"success\"){\r\n    \r\n                setLoading(\"false\");\r\n                swal(\"Berjaya!\",\"Akaun profil anda sudah dikemaskini.\",\"success\");\r\n    \r\n                sessionStorage.removeItem('username');\r\n                sessionStorage.setItem('username', result.data[0][\"U_USERNAME\"]);\r\n    \r\n                sessionStorage.removeItem('email');\r\n                sessionStorage.setItem('email', result.data[0]['U_USEREMAIL']);\r\n    \r\n                window.location.href = \"./admin/usermanagement\";\r\n    \r\n              }\r\n              else\r\n              {\r\n                setLoading(\"false\");\r\n                swal(\"Ralat!\",\"Kemaskini tidak berjaya.\",\"error\");\r\n              }\r\n    \r\n            })\r\n        }\r\n      }\r\n      if(loading){\r\n        return (\r\n            <div className=\"\">Loading...</div>\r\n        );\r\n    }\r\n\r\n  return (\r\n    <div>\r\n      <Sidebar />\r\n      <div className=\"relative md:ml-64 bg-blue-400\" style={{ height: \"100%\" }}>\r\n        <Navbar />\r\n        {/* Header */}\r\n        <div className=\"relative bg-blue-600 md:pt-32 pb-16 pt-12\">\r\n          <div className=\"px-4 md:px-10 mx-auto w-full\">\r\n            <div>\r\n              {/* Card stats */}\r\n              <div className=\"flex flex-wrap\">\r\n\r\n              <div className=\"relative flex flex-col min-w-0 break-words w-full h-full shadow-lg  bg-gray-300 border-0\">\r\n              <div className=\"rounded-t bg-white mb-0 px-6 py-6\">\r\n                <div className=\"text-center flex justify-between\">\r\n                  <h6 className=\"text-gray-800 text-xl font-bold\">Akaun mymps</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n                <form>\r\n                  <h6 className=\"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\">\r\n                    \r\n                  </h6>\r\n                  <div className=\"flex flex-wrap\">\r\n      \r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <label\r\n                          className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                          htmlFor=\"grid-password\"\r\n                        >\r\n                          Nama Penuh \r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          id=\"username\"\r\n                          className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                          defaultValue={users.U_USERNAME}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n      \r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <label\r\n                          className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                          htmlFor=\"grid-password\"\r\n                        >\r\n                          NOMBOR KAD PENGENALAN\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          readOnly\r\n                          className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                          defaultValue={users.U_USERIC}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n      \r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                    <div className=\"relative w-full mb-3\">\r\n                      <label\r\n                        className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                        htmlFor=\"grid-password\"\r\n                      >\r\n                        Alamat Emel\r\n                      </label>\r\n                      <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                        defaultValue={users.U_USEREMAIL}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n      \r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <label\r\n                          className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                          htmlFor=\"grid-password\"\r\n                        >\r\n                          NOMBOR TELEFON\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          id=\"notel\"\r\n                          className=\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                          defaultValue={users.U_USERPHONE}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"w-full lg:w-6/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <label\r\n                          className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\r\n                          htmlFor=\"grid-password\"\r\n                        >\r\n                          Status\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          id=\"status\"\r\n                          className=\"px-3 py-3 placeholder-gray-400 text-gray-700 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\r\n                          defaultValue={users.U_USERSTATUS}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n      \r\n                  </div>\r\n      \r\n                  <hr className=\"mt-6 border-b-1 border-gray-400\" />\r\n                  <div className=\"flex flex-wrap mt-6\">\r\n                    <div className=\"w-full lg:w-12/12 px-4\">\r\n                        <div className=\"relative w-full mb-3\">\r\n                        <button type=\"button\" onClick={handleUpdate} className=\"bg-green-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\">\r\n                            Kemaskini\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                  <div className=\"flex flex-wrap mt-6\">\r\n                    <div className=\"w-full lg:w-12/12 px-4\">\r\n                      <div className=\"relative w-full mb-3\">\r\n                        <button type=\"button\" onClick={handleDelete} className=\"bg-red-500 hover:bg-green-700 text-white py-2 px-3 rounded float-right\">\r\n                          Padam\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                </form>\r\n              </div>\r\n            </div>\r\n              \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}