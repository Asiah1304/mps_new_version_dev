{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, NavLink } from \"react-router-dom\";\nimport PrivateRoute from \"./Utils/PrivateRoute\";\nimport PublicRoute from \"./Utils/PublicRoute\";\nimport GoogleRoute from \"./Utils/GoogleRoute\";\nimport { getToken, getNOKP, getUser, getEmail, removeUserSession, setUserSession } from \"./Utils/Common\";\nimport Login from \"./Login\";\nimport Dashboard from \"./Dashboard\";\nimport Setting from \"./Profile\";\nimport Bill from \"./BayarBill\";\nimport Home from \"./Home\";\nimport Register from \"./Register\";\nimport ForgotPassword from \"./ForgotPassword\";\nimport GoogleLogin from \"./GoogleLogin\";\nimport NotFound from \"./NotFound\";\nimport SenaraiBil from \"./SenaraiBil\";\nimport Payment from \"./Payment\";\nimport Add from \"./Add\";\nimport { useLoading, Audio } from \"@agney/react-loading\"; //import \"./main.css\";\n\nfunction App() {\n  _s();\n\n  const [authLoading, setAuthLoading] = useState(true);\n  const {\n    containerProps,\n    indicatorEl\n  } = useLoading({\n    loading: true,\n    indicator: /*#__PURE__*/_jsxDEV(Audio, {\n      width: \"50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }, this)\n  });\n  useEffect(() => {\n    if (getEmail() && getEmail()) {\n      var formdata = new FormData();\n      formdata.append(\"nokp\", getNOKP());\n      formdata.append(\"email\", getEmail());\n      var requestOptions = {\n        method: \"POST\",\n        body: formdata,\n        redirect: \"follow\"\n      };\n      var urlAPI = \"https://mymps.corrad.my/int/api_generator.php?api_name=check_session\";\n      fetch(urlAPI, requestOptions).then(response => response.json()).then(result => {\n        setUserSession(btoa(result.data[0]), result.data[0][\"MPS_USERNAME\"], result.data[0][\"MPS_USERIC\"], result.data[0][\"MPS_USEREMAIL\"]);\n        setAuthLoading(false); // window.location.href=\"/home\";\n      }).catch(error => {\n        console.log(error);\n        removeUserSession();\n        setAuthLoading(false);\n      });\n    }\n  }, []);\n\n  if (authLoading && getToken()) {\n    return /*#__PURE__*/_jsxDEV(\"section\", { ...containerProps,\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0\n      },\n      children: [indicatorEl, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              component: Home\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n              path: \"/login\",\n              component: Login\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n              path: \"/register\",\n              component: Register\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GoogleRoute, {\n              path: \"/verifyuser\",\n              component: GoogleLogin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n              path: \"/forgotpassword\",\n              component: ForgotPassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/home\",\n              component: Dashboard\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/setting\",\n              component: Setting\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/bill\",\n              component: Bill\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/senaraibill\",\n              component: SenaraiBil\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/payment\",\n              component: Payment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/add\",\n              component: Add\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"*\",\n              component: NotFound\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"m69bdgk6+n5fA77QtT7kUa4dtWs=\", false, function () {\n  return [useLoading];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","NavLink","PrivateRoute","PublicRoute","GoogleRoute","getToken","getNOKP","getUser","getEmail","removeUserSession","setUserSession","Login","Dashboard","Setting","Bill","Home","Register","ForgotPassword","GoogleLogin","NotFound","SenaraiBil","Payment","Add","useLoading","Audio","App","authLoading","setAuthLoading","containerProps","indicatorEl","loading","indicator","formdata","FormData","append","requestOptions","method","body","redirect","urlAPI","fetch","then","response","json","result","btoa","data","catch","error","console","log","position","top","left","right","bottom"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,OAJF,QAKO,kBALP;AAOA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,SACEC,QADF,EAEEC,OAFF,EAGEC,OAHF,EAIEC,QAJF,EAKEC,iBALF,EAMEC,cANF,QAOO,gBAPP;AASA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AAEA,SAASC,UAAT,EAAqBC,KAArB,QAAkC,sBAAlC,C,CAEA;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgChC,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAM;AAAEiC,IAAAA,cAAF;AAAkBC,IAAAA;AAAlB,MAAkCN,UAAU,CAAC;AACjDO,IAAAA,OAAO,EAAE,IADwC;AAEjDC,IAAAA,SAAS,eAAE,QAAC,KAAD;AAAO,MAAA,KAAK,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAFsC,GAAD,CAAlD;AAKAnC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIY,QAAQ,MAAMA,QAAQ,EAA1B,EAA8B;AAC5B,UAAIwB,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwB5B,OAAO,EAA/B;AACA0B,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB1B,QAAQ,EAAjC;AAEA,UAAI2B,cAAc,GAAG;AACnBC,QAAAA,MAAM,EAAE,MADW;AAEnBC,QAAAA,IAAI,EAAEL,QAFa;AAGnBM,QAAAA,QAAQ,EAAE;AAHS,OAArB;AAMA,UAAIC,MAAM,GACR,sEADF;AAGAC,MAAAA,KAAK,CAACD,MAAD,EAASJ,cAAT,CAAL,CACGM,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESG,MAAD,IAAY;AAChBlC,QAAAA,cAAc,CACZmC,IAAI,CAACD,MAAM,CAACE,IAAP,CAAY,CAAZ,CAAD,CADQ,EAEZF,MAAM,CAACE,IAAP,CAAY,CAAZ,EAAe,cAAf,CAFY,EAGZF,MAAM,CAACE,IAAP,CAAY,CAAZ,EAAe,YAAf,CAHY,EAIZF,MAAM,CAACE,IAAP,CAAY,CAAZ,EAAe,eAAf,CAJY,CAAd;AAMAnB,QAAAA,cAAc,CAAC,KAAD,CAAd,CAPgB,CAQhB;AACD,OAXH,EAYGoB,KAZH,CAYUC,KAAD,IAAW;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAvC,QAAAA,iBAAiB;AACjBkB,QAAAA,cAAc,CAAC,KAAD,CAAd;AACD,OAhBH;AAiBD;AACF,GAjCQ,EAiCN,EAjCM,CAAT;;AAmCA,MAAID,WAAW,IAAIrB,QAAQ,EAA3B,EAA+B;AAC7B,wBACE,wBAAauB,cAAb;AAA6B,MAAA,KAAK,EAAE;AAACuB,QAAAA,QAAQ,EAAC,UAAV;AAAqBC,QAAAA,GAAG,EAAC,CAAzB;AAA2BC,QAAAA,IAAI,EAAC,CAAhC;AAAkCC,QAAAA,KAAK,EAAC,CAAxC;AAA0CC,QAAAA,MAAM,EAAC;AAAjD,OAApC;AAAA,iBACG1B,WADH;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACE,QAAC,MAAD;AAAA,6BACE;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA,iCACE,QAAC,MAAD;AAAA,oCACE,QAAC,KAAD;AAAO,cAAA,KAAK,MAAZ;AAAa,cAAA,IAAI,EAAC,GAAlB;AAAsB,cAAA,SAAS,EAAEd;AAAjC;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,WAAD;AAAa,cAAA,IAAI,EAAC,QAAlB;AAA2B,cAAA,SAAS,EAAEJ;AAAtC;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE,QAAC,WAAD;AAAa,cAAA,IAAI,EAAC,WAAlB;AAA8B,cAAA,SAAS,EAAEK;AAAzC;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE,QAAC,WAAD;AAAa,cAAA,IAAI,EAAC,aAAlB;AAAgC,cAAA,SAAS,EAAEE;AAA3C;AAAA;AAAA;AAAA;AAAA,oBAJF,eAKE,QAAC,WAAD;AAAa,cAAA,IAAI,EAAC,iBAAlB;AAAoC,cAAA,SAAS,EAAED;AAA/C;AAAA;AAAA;AAAA;AAAA,oBALF,eAME,QAAC,YAAD;AAAc,cAAA,IAAI,EAAC,OAAnB;AAA2B,cAAA,SAAS,EAAEL;AAAtC;AAAA;AAAA;AAAA;AAAA,oBANF,eAOE,QAAC,YAAD;AAAc,cAAA,IAAI,EAAC,UAAnB;AAA8B,cAAA,SAAS,EAAEC;AAAzC;AAAA;AAAA;AAAA;AAAA,oBAPF,eAQE,QAAC,YAAD;AAAc,cAAA,IAAI,EAAC,OAAnB;AAA2B,cAAA,SAAS,EAAEC;AAAtC;AAAA;AAAA;AAAA;AAAA,oBARF,eASE,QAAC,YAAD;AAAc,cAAA,IAAI,EAAC,cAAnB;AAAkC,cAAA,SAAS,EAAEM;AAA7C;AAAA;AAAA;AAAA;AAAA,oBATF,eAUE,QAAC,YAAD;AAAc,cAAA,IAAI,EAAC,UAAnB;AAA8B,cAAA,SAAS,EAAEC;AAAzC;AAAA;AAAA;AAAA;AAAA,oBAVF,eAWE,QAAC,YAAD;AAAc,cAAA,IAAI,EAAC,MAAnB;AAA0B,cAAA,SAAS,EAAEC;AAArC;AAAA;AAAA;AAAA;AAAA,oBAXF,eAYE,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,GAAZ;AAAgB,cAAA,SAAS,EAAEH;AAA3B;AAAA;AAAA;AAAA;AAAA,oBAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAwBD;;GA1EQM,G;UAEiCF,U;;;KAFjCE,G;AA4ET,eAAeA,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  NavLink,\n} from \"react-router-dom\";\n\nimport PrivateRoute from \"./Utils/PrivateRoute\";\nimport PublicRoute from \"./Utils/PublicRoute\";\nimport GoogleRoute from \"./Utils/GoogleRoute\";\nimport {\n  getToken,\n  getNOKP,\n  getUser,\n  getEmail,\n  removeUserSession,\n  setUserSession,\n} from \"./Utils/Common\";\n\nimport Login from \"./Login\";\nimport Dashboard from \"./Dashboard\";\nimport Setting from \"./Profile\";\nimport Bill from \"./BayarBill\";\nimport Home from \"./Home\";\nimport Register from \"./Register\";\nimport ForgotPassword from \"./ForgotPassword\";\nimport GoogleLogin from \"./GoogleLogin\";\nimport NotFound from \"./NotFound\";\nimport SenaraiBil from \"./SenaraiBil\";\nimport Payment from \"./Payment\";\nimport Add from \"./Add\";\n\nimport { useLoading, Audio } from \"@agney/react-loading\";\n\n//import \"./main.css\";\n\nfunction App() {\n  const [authLoading, setAuthLoading] = useState(true);\n  const { containerProps, indicatorEl } = useLoading({\n    loading: true,\n    indicator: <Audio width=\"50\" />,\n  });\n\n  useEffect(() => {\n    if (getEmail() && getEmail()) {\n      var formdata = new FormData();\n      formdata.append(\"nokp\", getNOKP());\n      formdata.append(\"email\", getEmail());\n\n      var requestOptions = {\n        method: \"POST\",\n        body: formdata,\n        redirect: \"follow\",\n      };\n\n      var urlAPI =\n        \"https://mymps.corrad.my/int/api_generator.php?api_name=check_session\";\n\n      fetch(urlAPI, requestOptions)\n        .then((response) => response.json())\n        .then((result) => {\n          setUserSession(\n            btoa(result.data[0]),\n            result.data[0][\"MPS_USERNAME\"],\n            result.data[0][\"MPS_USERIC\"],\n            result.data[0][\"MPS_USEREMAIL\"]\n          );\n          setAuthLoading(false);\n          // window.location.href=\"/home\";\n        })\n        .catch((error) => {\n          console.log(error);\n          removeUserSession();\n          setAuthLoading(false);\n        });\n    }\n  }, []);\n\n  if (authLoading && getToken()) {\n    return (\n      <section {...containerProps} style={{position:'absolute',top:0,left:0,right:0,bottom:0,}}>\n        {indicatorEl} {/* renders only while loading */}\n      </section>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <div>\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <PublicRoute path=\"/login\" component={Login} />\n              <PublicRoute path=\"/register\" component={Register} />\n              <GoogleRoute path=\"/verifyuser\" component={GoogleLogin} />\n              <PublicRoute path=\"/forgotpassword\" component={ForgotPassword} />\n              <PrivateRoute path=\"/home\" component={Dashboard} />\n              <PrivateRoute path=\"/setting\" component={Setting} />\n              <PrivateRoute path=\"/bill\" component={Bill} />\n              <PrivateRoute path=\"/senaraibill\" component={SenaraiBil} />\n              <PrivateRoute path=\"/payment\" component={Payment} />\n              <PrivateRoute path=\"/add\" component={Add} />\n              <Route path=\"*\" component={NotFound} />\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}