{"ast":null,"code":"import _slicedToArray from\"/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';// import { Link } from \"react-router-dom\";\nimport{getUser,getNOKP,getToken,removeUserSession}from\"./Utils/Common\";// import MainDashboard from \"./views/admin/Dashboard\";\n// import Footer from \"./components/Footers/Footer\";\n// import Sidebar from \"./Sidebar\";\n// import Navbar from \"./components/Navbars/AdminNavbar\";\nimport axios from'axios';import swal from'sweetalert';export default function SenaraiBil(props){var _useState=useState({bill:[]}),_useState2=_slicedToArray(_useState,2),bills=_useState2[0],setBill=_useState2[1];var nokp=getNOKP();var handleBack=function handleBack(){window.location.href=\"/bill\";};var handleReceipt=function handleReceipt(){console.log('Resit');var formData=new FormData();formData.append('noakaun',atob(atob(sessionStorage.noakaun)));formData.append('nokp',nokp);axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=export_pdf',formData).then(function(res){console.log(res);}).catch(function(err){console.log(err);swal('Ralat','Sila hubungi pentadbir system','error');});};useEffect(function(){console.log(sessionStorage.noakaun);axios.get('https://mymps.corrad.my/int/api_generator.php?api_name=getBill',{params:{noakaun:sessionStorage.noakaun}}).then(function(res){console.log(res.data.data);setBill({bill:res.data.data});}).catch(function(err){console.log(err);swal('Ralat','Sila hubungi pentadbir system','error');});},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"relative bg-gray-600 md:pt-32 pt-4 pb-4\",style:{height:\"90vh\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 md:px-10 mx-auto w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleBack,className:\"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out\",children:\"KEMBALI\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-auto p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"Jenis Bil\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sm text-gray-800\",children:\"Cukai Taksiran\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"No Akaun\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sm text-gray-800\",children:bills.bill[0].NOAKAUN})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"Nama Pemilik\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sm text-gray-800\",children:bills.bill[0].NAMA_PEMILIK})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"Alamat Harta\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sm text-gray-800\",children:bills.bill[0].ADDRHARTA})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"Mukim\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sm text-gray-800\",children:bills.bill[0].MUKIM})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"Tempoh Cukai\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sm text-gray-800\",children:bills.bill[0].TEMPOH_CUKAI})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:\"Tempoh Bayaran\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sm text-gray-800\",children:bills.bill[0].TEMPOH_BAYARAN})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full pr-4 max-w-full flex-grow flex-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sm text-gray-800\",children:\"Status Bayaran\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-green-400\",children:\"Telah Dibayar\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"uppercase font-medium text-xs text-gray-600\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleReceipt,className:\"hover:text-gray-200 focus:outline-none focus:underline transition ease-in-out duration-150\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-receipt\"}),\" Resit\"]})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-gray-800\"})]})})]})})})]})})})});}","map":{"version":3,"sources":["/Users/syahrilsulaiman/Desktop/mps_new_version_dev-1/src/SenaraiBil.js"],"names":["React","useState","useEffect","getUser","getNOKP","getToken","removeUserSession","axios","swal","SenaraiBil","props","bill","bills","setBill","nokp","handleBack","window","location","href","handleReceipt","console","log","formData","FormData","append","atob","sessionStorage","noakaun","post","then","res","catch","err","get","params","data","height","NOAKAUN","NAMA_PEMILIK","ADDRHARTA","MUKIM","TEMPOH_CUKAI","TEMPOH_BAYARAN"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\n// import { Link } from \"react-router-dom\";\nimport { getUser, getNOKP, getToken, removeUserSession } from \"./Utils/Common\";\n// import MainDashboard from \"./views/admin/Dashboard\";\n// import Footer from \"./components/Footers/Footer\";\n// import Sidebar from \"./Sidebar\";\n// import Navbar from \"./components/Navbars/AdminNavbar\";\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\n\nexport default function SenaraiBil(props){\n    const [bills,setBill] = useState({\n        bill: []\n    });\n    const nokp = getNOKP();\n    const handleBack = () => {\n        window.location.href = \"/bill\";\n    }\n\n    const handleReceipt = () => {\n        console.log('Resit');\n        const formData = new FormData;\n        formData.append('noakaun',atob(atob(sessionStorage.noakaun)));\n        formData.append('nokp',nokp);\n        axios.post('https://mymps.corrad.my/int/api_generator.php?api_name=export_pdf',formData)\n        .then(res =>{\n            console.log(res);\n        })\n        .catch(err => {\n            console.log(err);\n            swal('Ralat','Sila hubungi pentadbir system','error');\n        })\n    }\n\n    useEffect(()=> {\n        console.log(sessionStorage.noakaun);\n        axios.get('https://mymps.corrad.my/int/api_generator.php?api_name=getBill',{\n            params:{\n                noakaun:sessionStorage.noakaun\n            }\n        })\n        .then(res => {\n            console.log(res.data.data)\n            setBill({\n                bill:res.data.data\n            });\n        })\n        .catch(err => {\n            console.log(err);\n            swal('Ralat','Sila hubungi pentadbir system','error');\n        })\n    },[])\n\n    return (\n        <div>\n                <div className=\"relative bg-gray-600 md:pt-32 pt-4 pb-4\" style={{height: \"90vh\"}}>\n                <div className=\"px-4 md:px-10 mx-auto w-full\">\n                <div className=\"flex flex-wrap\">\n                    <button onClick={handleBack} className=\"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out\">\n                        KEMBALI\n                    </button>\n                    <div className=\"w-full px-4\">\n                        <div className=\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 shadow-lg\">\n                            <div className=\"flex-auto p-4\">\n\n                                <div className=\"flex flex-col pt-4\">\n                                    <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\n                                            Jenis Bil\n                                        </h5>\n                                        <span className=\"font-semibold text-sm text-gray-800\">\n                                            Cukai Taksiran\n                                        </span>\t\n                                    </div>\n                                </div>\n\n                                <div className=\"flex flex-col pt-4\">\n                                    <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\n                                            No Akaun\n                                        </h5>\n                                        <span className=\"font-semibold text-sm text-gray-800\">\n                                            {\n                                               bills.bill[0].NOAKAUN\n                                            }\n                                        </span>\t\n                                    </div>\n                                </div>\n                                \n                                <div className=\"flex flex-col pt-4\">\n                                    <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\n                                            Nama Pemilik\n                                        </h5>\n                                        <span className=\"font-semibold text-sm text-gray-800\">\n                                            {\n                                               bills.bill[0].NAMA_PEMILIK\n                                            }\n                                        </span>\t\n                                    </div>\n                                </div>\n                                \n                                <div className=\"flex flex-col pt-4\">\n                                    <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\n                                            Alamat Harta\n                                        </h5>\n                                        <span className=\"font-semibold text-sm text-gray-800\">\n                                            {\n                                                bills.bill[0].ADDRHARTA\n                                            }\n                                        </span>\t\n                                    </div>\n                                </div>\n                                \n                                <div className=\"flex flex-col pt-4\">\n                                    <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\n                                            Mukim\n                                        </h5>\n                                        <span className=\"font-semibold text-sm text-gray-800\">\n                                            {\n                                                bills.bill[0].MUKIM\n                                            }\n                                        </span>\t\n                                    </div>\n                                </div>\n                                \n                                <div className=\"flex flex-col pt-4\">\n                                    <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\n                                            Tempoh Cukai\n                                        </h5>\n                                        <span className=\"font-semibold text-sm text-gray-800\">\n                                            {\n                                                bills.bill[0].TEMPOH_CUKAI\n                                            }\n                                        </span>\t\n                                    </div>\n                                </div>\n                                \n                                <div className=\"flex flex-col pt-4\">\n                                    <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\n                                            Tempoh Bayaran\n                                        </h5>\n                                        <span className=\"font-semibold text-sm text-gray-800\">\n                                            {\n                                                bills.bill[0].TEMPOH_BAYARAN\n                                            }\n                                        </span>\t\n                                    </div>\n                                </div>\n                                \n                                <div className=\"flex flex-col pt-4\">\n                                    <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                                        <span className=\"font-semibold text-sm text-gray-800\">\n                                            Status Bayaran\n                                        </span>\n                                        <h5 className=\"uppercase font-medium text-xs text-green-400\">\n                                            Telah Dibayar\n                                        </h5>\n                                        <h5 className=\"uppercase font-medium text-xs text-gray-600\">\n                                            <button onClick ={handleReceipt} className=\"hover:text-gray-200 focus:outline-none focus:underline transition ease-in-out duration-150\">\n                                                <i className=\"fas fa-receipt\"></i> Resit\n                                            </button>\n                                        </h5>\n                                        <span className=\"font-semibold text-lg text-gray-800\">\n                                            {\n                                                // bayar ? (export pdf):(add to pay)\n                                            }\n                                        </span>\t\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}